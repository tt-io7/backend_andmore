import{r as c,bm as io,cq as uo,j as O,aL as gt,cr as ao,cs as co,ct as lo,cu as fo,cv as vo,cw as mo,cx as po,cy as bo,b as go,cz as ho,E as nt,T as mt,bp as xo,ai as So}from"./index-nuRy4NPt.js";import{X as Sn}from"./x-mark-mini-BdmWTrOK.js";import{T as yo}from"./triangles-mini-CFjcr5v5.js";import{P as Eo}from"./plus-mini-N6Rr5zC6.js";var Zn={exports:{}},Qn={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var st=c;function Co(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wo=typeof Object.is=="function"?Object.is:Co,Po=st.useState,Io=st.useEffect,Oo=st.useLayoutEffect,Ao=st.useDebugValue;function Do(e,t){var r=t(),n=Po({inst:{value:r,getSnapshot:t}}),o=n[0].inst,s=n[1];return Oo(function(){o.value=r,o.getSnapshot=t,At(o)&&s({inst:o})},[e,r,t]),Io(function(){return At(o)&&s({inst:o}),e(function(){At(o)&&s({inst:o})})},[e]),Ao(r),r}function At(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wo(e,r)}catch{return!0}}function To(e,t){return t()}var Fo=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?To:Do;Qn.useSyncExternalStore=st.useSyncExternalStore!==void 0?st.useSyncExternalStore:Fo;Zn.exports=Qn;var Ro=Zn.exports;const ko=io(Ro);var _o=Object.defineProperty,Mo=Object.defineProperties,Vo=Object.getOwnPropertyDescriptors,ht=Object.getOwnPropertySymbols,er=Object.prototype.hasOwnProperty,tr=Object.prototype.propertyIsEnumerable,yn=(e,t,r)=>t in e?_o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))er.call(t,r)&&yn(e,r,t[r]);if(ht)for(var r of ht(t))tr.call(t,r)&&yn(e,r,t[r]);return e},j=(e,t)=>Mo(e,Vo(t)),Z=(e,t)=>{var r={};for(var n in e)er.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ht)for(var n of ht(e))t.indexOf(n)<0&&tr.call(e,n)&&(r[n]=e[n]);return r},No=Object.defineProperty,Lo=Object.defineProperties,jo=Object.getOwnPropertyDescriptors,xt=Object.getOwnPropertySymbols,nr=Object.prototype.hasOwnProperty,rr=Object.prototype.propertyIsEnumerable,En=(e,t,r)=>t in e?No(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oe=(e,t)=>{for(var r in t||(t={}))nr.call(t,r)&&En(e,r,t[r]);if(xt)for(var r of xt(t))rr.call(t,r)&&En(e,r,t[r]);return e},Ee=(e,t)=>Lo(e,jo(t)),or=(e,t)=>{var r={};for(var n in e)nr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&xt)for(var n of xt(e))t.indexOf(n)<0&&rr.call(e,n)&&(r[n]=e[n]);return r};function at(...e){}function $o(e,t){if(Ko(e)){const r=Bo(t)?t():t;return e(r)}return e}function Ko(e){return typeof e=="function"}function Bo(e){return typeof e=="function"}function je(e,t){return typeof Object.hasOwn=="function"?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function Fe(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}function sr(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Ho(e,t){const r=oe({},e);for(const n of t)je(r,n)&&delete r[n];return r}function zo(e,t){const r={};for(const n of t)je(e,n)&&(r[n]=e[n]);return r}function ir(e){return e}function Oe(e,t){if(!e)throw typeof t!="string"?new Error("Invariant failed"):new Error(t)}function Wo(e){return Object.keys(e)}function ur(e,...t){const r=typeof e=="function"?e(...t):e;return r==null?!1:!r}function zt(e){return e.disabled||e["aria-disabled"]===!0||e["aria-disabled"]==="true"}function Ye(e){const t={};for(const r in e)e[r]!==void 0&&(t[r]=e[r]);return t}function X(...e){for(const t of e)if(t!==void 0)return t}function Mt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Uo(e){return!e||!c.isValidElement(e)?!1:"ref"in e.props||"ref"in e}function qo(e){return Uo(e)?y({},e.props).ref||e.ref:null}function Yo(e,t){const r=y({},e);for(const n in t){if(!je(t,n))continue;if(n==="className"){const s="className";r[s]=e[s]?`${e[s]} ${t[s]}`:t[s];continue}if(n==="style"){const s="style";r[s]=e[s]?y(y({},e[s]),t[s]):t[s];continue}const o=t[n];if(typeof o=="function"&&n.startsWith("on")){const s=e[n];if(typeof s=="function"){r[n]=(...i)=>{o(...i),s(...i)};continue}}r[n]=o}return r}var ut=Xo();function Xo(){var e;return typeof window<"u"&&!!((e=window.document)!=null&&e.createElement)}function se(e){return e?"self"in e?e.document:e.ownerDocument||document:document}function ar(e){return e?"self"in e?e.self:se(e).defaultView||window:self}function Ke(e,t=!1){const{activeElement:r}=se(e);if(!(r!=null&&r.nodeName))return null;if(Wt(r)&&r.contentDocument)return Ke(r.contentDocument.body,t);if(t){const n=r.getAttribute("aria-activedescendant");if(n){const o=se(r).getElementById(n);if(o)return o}}return r}function pe(e,t){return e===t||e.contains(t)}function Wt(e){return e.tagName==="IFRAME"}function qe(e){const t=e.tagName.toLowerCase();return t==="button"?!0:t==="input"&&e.type?Go.indexOf(e.type)!==-1:!1}var Go=["button","color","file","image","reset","submit"];function cr(e){if(typeof e.checkVisibility=="function")return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}function Be(e){try{const t=e instanceof HTMLInputElement&&e.selectionStart!==null,r=e.tagName==="TEXTAREA";return t||r||!1}catch{return!1}}function Vt(e){return e.isContentEditable||Be(e)}function Jo(e){if(Be(e))return e.value;if(e.isContentEditable){const t=se(e).createRange();return t.selectNodeContents(e),t.toString()}return""}function Nt(e){let t=0,r=0;if(Be(e))t=e.selectionStart||0,r=e.selectionEnd||0;else if(e.isContentEditable){const n=se(e).getSelection();if(n!=null&&n.rangeCount&&n.anchorNode&&pe(e,n.anchorNode)&&n.focusNode&&pe(e,n.focusNode)){const o=n.getRangeAt(0),s=o.cloneRange();s.selectNodeContents(e),s.setEnd(o.startContainer,o.startOffset),t=s.toString().length,s.setEnd(o.endContainer,o.endOffset),r=s.toString().length}}return{start:t,end:r}}function lr(e,t){const r=["dialog","menu","listbox","tree","grid"],n=e==null?void 0:e.getAttribute("role");return n&&r.indexOf(n)!==-1?n:t}function Ut(e){if(!e)return null;const t=r=>r==="auto"||r==="scroll";if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:r}=getComputedStyle(e);if(t(r))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:r}=getComputedStyle(e);if(t(r))return e}return Ut(e.parentElement)||document.scrollingElement||document.body}function Dt(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function Zo(e,t){const r=e.map((o,s)=>[s,o]);let n=!1;return r.sort(([o,s],[i,u])=>{const a=t(s),l=t(u);return a===l||!a||!l?0:Qo(a,l)?(o>i&&(n=!0),-1):(o<i&&(n=!0),1)}),n?r.map(([o,s])=>s):e}function Qo(e,t){return!!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}function fr(){return ut&&!!navigator.maxTouchPoints}function qt(){return ut?/mac|iphone|ipad|ipod/i.test(navigator.platform):!1}function yt(){return ut&&qt()&&/apple/i.test(navigator.vendor)}function es(){return ut&&/firefox\//i.test(navigator.userAgent)}function ts(){return ut&&navigator.platform.startsWith("Mac")&&!fr()}function dr(e){return!!(e.currentTarget&&!pe(e.currentTarget,e.target))}function Te(e){return e.target===e.currentTarget}function ns(e){const t=e.currentTarget;if(!t)return!1;const r=qt();if(r&&!e.metaKey||!r&&!e.ctrlKey)return!1;const n=t.tagName.toLowerCase();return n==="a"||n==="button"&&t.type==="submit"||n==="input"&&t.type==="submit"}function rs(e){const t=e.currentTarget;if(!t)return!1;const r=t.tagName.toLowerCase();return e.altKey?r==="a"||r==="button"&&t.type==="submit"||r==="input"&&t.type==="submit":!1}function rt(e,t){const r=new FocusEvent("blur",t),n=e.dispatchEvent(r),o=Ee(oe({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",o)),n}function os(e,t,r){const n=new KeyboardEvent(t,r);return e.dispatchEvent(n)}function Cn(e,t){const r=new MouseEvent("click",t);return e.dispatchEvent(r)}function Ge(e,t){const r=t||e.currentTarget,n=e.relatedTarget;return!n||!pe(r,n)}function ot(e,t,r,n){const s=(u=>{const a=requestAnimationFrame(u);return()=>cancelAnimationFrame(a)})(()=>{e.removeEventListener(t,i,!0),r()}),i=()=>{s(),r()};return e.addEventListener(t,i,{once:!0,capture:!0}),s}function ke(e,t,r,n=window){const o=[];try{n.document.addEventListener(e,t,r);for(const i of Array.from(n.frames))o.push(ke(e,t,r,i))}catch{}return()=>{try{n.document.removeEventListener(e,t,r)}catch{}for(const i of o)i()}}var Yt=y({},uo),wn=Yt.useId;Yt.useDeferredValue;var Pn=Yt.useInsertionEffect,G=ut?c.useLayoutEffect:c.useEffect;function ss(e){const[t]=c.useState(e);return t}function is(e){const t=c.useRef(e);return G(()=>{t.current=e}),t}function W(e){const t=c.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return Pn?Pn(()=>{t.current=e}):t.current=e,c.useCallback((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function us(e){const[t,r]=c.useState(null);return G(()=>{if(t==null||!e)return;let n=null;return e(o=>(n=o,t)),()=>{e(n)}},[t,e]),[t,r]}function xe(...e){return c.useMemo(()=>{if(e.some(Boolean))return t=>{for(const r of e)Mt(r,t)}},e)}function Qe(e){if(wn){const n=wn();return e||n}const[t,r]=c.useState(e);return G(()=>{if(e||t)return;const n=Math.random().toString(36).slice(2,8);r(`id-${n}`)},[e,t]),e||t}function vr(e,t){const r=s=>{if(typeof s=="string")return s},[n,o]=c.useState(()=>r(t));return G(()=>{const s=e&&"current"in e?e.current:e;o((s==null?void 0:s.tagName.toLowerCase())||r(t))},[e,t]),n}function as(e,t,r){const n=ss(r),[o,s]=c.useState(n);return c.useEffect(()=>{const i=e&&"current"in e?e.current:e;if(!i)return;const u=()=>{const l=i.getAttribute(t);s(l??n)},a=new MutationObserver(u);return a.observe(i,{attributeFilter:[t]}),u(),()=>a.disconnect()},[e,t,n]),o}function ft(e,t){const r=c.useRef(!1);c.useEffect(()=>{if(r.current)return e();r.current=!0},t),c.useEffect(()=>()=>{r.current=!1},[])}function cs(e,t){const r=c.useRef(!1);G(()=>{if(r.current)return e();r.current=!0},t),G(()=>()=>{r.current=!1},[])}function mr(){return c.useReducer(()=>[],[])}function ae(e){return W(typeof e=="function"?e:()=>e)}function Pe(e,t,r=[]){const n=c.useCallback(o=>(e.wrapElement&&(o=e.wrapElement(o)),t(o)),[...r,e.wrapElement]);return j(y({},e),{wrapElement:n})}function pr(e=!1,t){const[r,n]=c.useState(null);return{portalRef:xe(n,t),portalNode:r,domReady:!e||r}}function br(e,t,r){const n=e.onLoadedMetadataCapture,o=c.useMemo(()=>Object.assign(()=>{},j(y({},n),{[t]:r})),[n,t,r]);return[n==null?void 0:n[t],{onLoadedMetadataCapture:o}]}function ls(){return c.useEffect(()=>{ke("mousemove",ds,!0),ke("mousedown",pt,!0),ke("mouseup",pt,!0),ke("keydown",pt,!0),ke("scroll",pt,!0)},[]),W(()=>Xt)}var Xt=!1,In=0,On=0;function fs(e){const t=e.movementX||e.screenX-In,r=e.movementY||e.screenY-On;return In=e.screenX,On=e.screenY,t||r||!1}function ds(e){fs(e)&&(Xt=!0)}function pt(){Xt=!1}function J(e){const t=c.forwardRef((r,n)=>e(j(y({},r),{ref:n})));return t.displayName=e.displayName||e.name,t}function Gt(e,t){return c.memo(e,t)}function Q(e,t){const r=t,{wrapElement:n,render:o}=r,s=Z(r,["wrapElement","render"]),i=xe(t.ref,qo(o));let u;if(c.isValidElement(o)){const a=j(y({},o.props),{ref:i});u=c.cloneElement(o,Yo(s,a))}else o?u=o(s):u=O.jsx(e,y({},s));return n?n(u):u}function ee(e){const t=(r={})=>e(r);return t.displayName=e.name,t}function et(e=[],t=[]){const r=c.createContext(void 0),n=c.createContext(void 0),o=()=>c.useContext(r),s=(l=!1)=>{const v=c.useContext(n),m=o();return l?v:v||m},i=()=>{const l=c.useContext(n),v=o();if(!(l&&l===v))return v},u=l=>e.reduceRight((v,m)=>O.jsx(m,j(y({},l),{children:v})),O.jsx(r.Provider,y({},l)));return{context:r,scopedContext:n,useContext:o,useScopedContext:s,useProviderContext:i,ContextProvider:u,ScopedContextProvider:l=>O.jsx(u,j(y({},l),{children:t.reduceRight((v,m)=>O.jsx(m,j(y({},l),{children:v})),O.jsx(n.Provider,y({},l)))}))}}var Jt=et(),vs=Jt.useContext,ms=Jt.ContextProvider,ps=Jt.ScopedContextProvider,Et=et([ms],[ps]),gr=Et.useContext,bs=Et.useProviderContext,Zt=Et.ContextProvider,hr=Et.ScopedContextProvider,gs=c.createContext(void 0),hs=c.createContext(void 0);c.createContext(null);c.createContext(null);var xs=et([Zt],[hr]),Ss=xs.useContext;function tt(e,t){const r=e.__unstableInternals;return Oe(r,"Invalid store"),r[t]}function $e(e,...t){let r=e,n=r,o=Symbol(),s=at;const i=new Set,u=new Set,a=new Set,l=new Set,v=new Set,m=new WeakMap,f=new WeakMap,S=V=>(a.add(V),()=>a.delete(V)),p=()=>{const V=i.size,E=Symbol();i.add(E);const M=()=>{i.delete(E),!i.size&&s()};if(V)return M;const z=Wo(r).map(w=>Fe(...t.map(k=>{var x;const _=(x=k==null?void 0:k.getState)==null?void 0:x.call(k);if(_&&je(_,w))return we(k,[w],$=>{F(w,$[w],!0)})}))),H=[];for(const w of a)H.push(w());const d=t.map(Qt);return s=Fe(...z,...H,...d),M},h=(V,E,M=l)=>(M.add(E),f.set(E,V),()=>{var z;(z=m.get(E))==null||z(),m.delete(E),f.delete(E),M.delete(E)}),R=(V,E)=>h(V,E),C=(V,E)=>(m.set(E,E(r,r)),h(V,E)),I=(V,E)=>(m.set(E,E(r,n)),h(V,E,v)),P=V=>$e(zo(r,V),A),g=V=>$e(Ho(r,V),A),T=()=>r,F=(V,E,M=!1)=>{var z;if(!je(r,V))return;const H=$o(E,r[V]);if(H===r[V])return;if(!M)for(const x of t)(z=x==null?void 0:x.setState)==null||z.call(x,V,H);const d=r;r=Ee(oe({},r),{[V]:H});const w=Symbol();o=w,u.add(V);const k=(x,_,$)=>{var b;const L=f.get(x),B=de=>$?$.has(de):de===V;(!L||L.some(B))&&((b=m.get(x))==null||b(),m.set(x,x(r,_)))};for(const x of l)k(x,d);queueMicrotask(()=>{if(o!==w)return;const x=r;for(const _ of v)k(_,n,u);n=x,u.clear()})},A={getState:T,setState:F,__unstableInternals:{setup:S,init:p,subscribe:R,sync:C,batch:I,pick:P,omit:g}};return A}function Ce(e,...t){if(e)return tt(e,"setup")(...t)}function Qt(e,...t){if(e)return tt(e,"init")(...t)}function en(e,...t){if(e)return tt(e,"subscribe")(...t)}function we(e,...t){if(e)return tt(e,"sync")(...t)}function St(e,...t){if(e)return tt(e,"batch")(...t)}function xr(e,...t){if(e)return tt(e,"omit")(...t)}function ys(e,...t){if(e)return tt(e,"pick")(...t)}function tn(...e){const t=e.reduce((n,o)=>{var s;const i=(s=o==null?void 0:o.getState)==null?void 0:s.call(o);return i?Object.assign(n,i):n},{}),r=$e(t,...e);return Object.assign({},...e,r)}var{useSyncExternalStore:Sr}=ko,yr=()=>()=>{};function Ie(e,t=ir){const r=c.useCallback(o=>e?en(e,null,o):yr(),[e]),n=()=>{const o=typeof t=="string"?t:null,s=typeof t=="function"?t:null,i=e==null?void 0:e.getState();if(s)return s(i);if(i&&o&&je(i,o))return i[o]};return Sr(r,n,n)}function Er(e,t){const r=c.useRef({}),n=c.useCallback(s=>e?en(e,null,s):yr(),[e]),o=()=>{const s=e==null?void 0:e.getState();let i=!1;const u=r.current;for(const a in t){const l=t[a];if(typeof l=="function"){const v=l(s);v!==u[a]&&(u[a]=v,i=!0)}if(typeof l=="string"){if(!s||!je(s,l))continue;const v=s[l];v!==u[a]&&(u[a]=v,i=!0)}}return i&&(r.current=y({},u)),r.current};return Sr(n,o,o)}function me(e,t,r,n){const o=je(t,r)?t[r]:void 0,s=n?t[n]:void 0,i=is({value:o,setValue:s});G(()=>we(e,[r],(u,a)=>{const{value:l,setValue:v}=i.current;v&&u[r]!==a[r]&&u[r]!==l&&v(u[r])}),[e,r]),G(()=>{if(o!==void 0)return e.setState(r,o),St(e,[r],()=>{o!==void 0&&e.setState(r,o)})})}function nn(e,t){const[r,n]=c.useState(()=>e(t));G(()=>Qt(r),[r]);const o=c.useCallback(u=>Ie(r,u),[r]),s=c.useMemo(()=>j(y({},r),{useState:o}),[r,o]),i=W(()=>{n(u=>e(y(y({},t),u.getState())))});return[s,i]}function Es(e){var t;const r=e.find(s=>!!s.element),n=[...e].reverse().find(s=>!!s.element);let o=(t=r==null?void 0:r.element)==null?void 0:t.parentElement;for(;o&&(n!=null&&n.element);){if(n&&o.contains(n.element))return o;o=o.parentElement}return se(o).body}function Cs(e){return e==null?void 0:e.__unstablePrivateStore}function ws(e={}){var t;e.store;const r=(t=e.store)==null?void 0:t.getState(),n=X(e.items,r==null?void 0:r.items,e.defaultItems,[]),o=new Map(n.map(f=>[f.id,f])),s={items:n,renderedItems:X(r==null?void 0:r.renderedItems,[])},i=Cs(e.store),u=$e({items:n,renderedItems:s.renderedItems},i),a=$e(s,e.store),l=f=>{const S=Zo(f,p=>p.element);u.setState("renderedItems",S),a.setState("renderedItems",S)};Ce(a,()=>Qt(u)),Ce(u,()=>St(u,["items"],f=>{a.setState("items",f.items)})),Ce(u,()=>St(u,["renderedItems"],f=>{let S=!0,p=requestAnimationFrame(()=>{const{renderedItems:I}=a.getState();f.renderedItems!==I&&l(f.renderedItems)});if(typeof IntersectionObserver!="function")return()=>cancelAnimationFrame(p);const h=()=>{if(S){S=!1;return}cancelAnimationFrame(p),p=requestAnimationFrame(()=>l(f.renderedItems))},R=Es(f.renderedItems),C=new IntersectionObserver(h,{root:R});for(const I of f.renderedItems)I.element&&C.observe(I.element);return()=>{cancelAnimationFrame(p),C.disconnect()}}));const v=(f,S,p=!1)=>{let h;return S(C=>{const I=C.findIndex(({id:g})=>g===f.id),P=C.slice();if(I!==-1){h=C[I];const g=oe(oe({},h),f);P[I]=g,o.set(f.id,g)}else P.push(f),o.set(f.id,f);return P}),()=>{S(C=>{if(!h)return p&&o.delete(f.id),C.filter(({id:g})=>g!==f.id);const I=C.findIndex(({id:g})=>g===f.id);if(I===-1)return C;const P=C.slice();return P[I]=h,o.set(f.id,h),P})}},m=f=>v(f,S=>u.setState("items",S),!0);return Ee(oe({},a),{registerItem:m,renderItem:f=>Fe(m(f),v(f,S=>u.setState("renderedItems",S))),item:f=>{if(!f)return null;let S=o.get(f);if(!S){const{items:p}=u.getState();S=p.find(h=>h.id===f),S&&o.set(f,S)}return S||null},__unstablePrivateStore:u})}function Ps(e,t,r){return ft(t,[r.store]),me(e,r,"items","setItems"),e}function Is(e){return Array.isArray(e)?e:typeof e<"u"?[e]:[]}function Cr(e){const t=[];for(const r of e)t.push(...r);return t}function Lt(e){return e.slice().reverse()}var Os={id:null};function Le(e,t){return e.find(r=>t?!r.disabled&&r.id!==t:!r.disabled)}function As(e,t){return e.filter(r=>t?!r.disabled&&r.id!==t:!r.disabled)}function An(e,t){return e.filter(r=>r.rowId===t)}function Ds(e,t,r=!1){const n=e.findIndex(o=>o.id===t);return[...e.slice(n+1),...r?[Os]:[],...e.slice(0,n)]}function wr(e){const t=[];for(const r of e){const n=t.find(o=>{var s;return((s=o[0])==null?void 0:s.rowId)===r.rowId});n?n.push(r):t.push([r])}return t}function Pr(e){let t=0;for(const{length:r}of e)r>t&&(t=r);return t}function Ts(e){return{id:"__EMPTY_ITEM__",disabled:!0,rowId:e}}function Fs(e,t,r){const n=Pr(e);for(const o of e)for(let s=0;s<n;s+=1){const i=o[s];if(!i||r&&i.disabled){const a=s===0&&r?Le(o):o[s-1];o[s]=a&&t!==a.id&&r?a:Ts(a==null?void 0:a.rowId)}}return e}function Rs(e){const t=wr(e),r=Pr(t),n=[];for(let o=0;o<r;o+=1)for(const s of t){const i=s[o];i&&n.push(Ee(oe({},i),{rowId:i.rowId?`${o}`:void 0}))}return n}function ks(e={}){var t;const r=(t=e.store)==null?void 0:t.getState(),n=ws(e),o=X(e.activeId,r==null?void 0:r.activeId,e.defaultActiveId),s=Ee(oe({},n.getState()),{id:X(e.id,r==null?void 0:r.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:o,baseElement:X(r==null?void 0:r.baseElement,null),includesBaseElement:X(e.includesBaseElement,r==null?void 0:r.includesBaseElement,o===null),moves:X(r==null?void 0:r.moves,0),orientation:X(e.orientation,r==null?void 0:r.orientation,"both"),rtl:X(e.rtl,r==null?void 0:r.rtl,!1),virtualFocus:X(e.virtualFocus,r==null?void 0:r.virtualFocus,!1),focusLoop:X(e.focusLoop,r==null?void 0:r.focusLoop,!1),focusWrap:X(e.focusWrap,r==null?void 0:r.focusWrap,!1),focusShift:X(e.focusShift,r==null?void 0:r.focusShift,!1)}),i=$e(s,n,e.store);Ce(i,()=>we(i,["renderedItems","activeId"],a=>{i.setState("activeId",l=>{var v;return l!==void 0?l:(v=Le(a.renderedItems))==null?void 0:v.id})}));const u=(a="next",l={})=>{var v,m;const f=i.getState(),{skip:S=0,activeId:p=f.activeId,focusShift:h=f.focusShift,focusLoop:R=f.focusLoop,focusWrap:C=f.focusWrap,includesBaseElement:I=f.includesBaseElement,renderedItems:P=f.renderedItems,rtl:g=f.rtl}=l,T=a==="up"||a==="down",F=a==="next"||a==="down",A=F?g&&!T:!g||T,V=h&&!S;let E=T?Cr(Fs(wr(P),p,V)):P;if(E=A?Lt(E):E,E=T?Rs(E):E,p==null)return(v=Le(E))==null?void 0:v.id;const M=E.find(b=>b.id===p);if(!M)return(m=Le(E))==null?void 0:m.id;const z=E.some(b=>b.rowId),H=E.indexOf(M),d=E.slice(H+1),w=An(d,M.rowId);if(S){const b=As(w,p),L=b.slice(S)[0]||b[b.length-1];return L==null?void 0:L.id}const k=R&&(T?R!=="horizontal":R!=="vertical"),x=z&&C&&(T?C!=="horizontal":C!=="vertical"),_=F?(!z||T)&&k&&I:T?I:!1;if(k){const b=x&&!_?E:An(E,M.rowId),L=Ds(b,p,_),B=Le(L,p);return B==null?void 0:B.id}if(x){const b=Le(_?w:d,p);return _?(b==null?void 0:b.id)||null:b==null?void 0:b.id}const $=Le(w,p);return!$&&_?null:$==null?void 0:$.id};return Ee(oe(oe({},n),i),{setBaseElement:a=>i.setState("baseElement",a),setActiveId:a=>i.setState("activeId",a),move:a=>{a!==void 0&&(i.setState("activeId",a),i.setState("moves",l=>l+1))},first:()=>{var a;return(a=Le(i.getState().renderedItems))==null?void 0:a.id},last:()=>{var a;return(a=Le(Lt(i.getState().renderedItems)))==null?void 0:a.id},next:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),u("next",a)),previous:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),u("previous",a)),down:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),u("down",a)),up:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),u("up",a))})}function _s(e){const t=Qe(e.id);return y({id:t},e)}function Ms(e,t,r){return e=Ps(e,t,r),me(e,r,"activeId","setActiveId"),me(e,r,"includesBaseElement"),me(e,r,"virtualFocus"),me(e,r,"orientation"),me(e,r,"rtl"),me(e,r,"focusLoop"),me(e,r,"focusWrap"),me(e,r,"focusShift"),e}function Ir(e={}){const t=tn(e.store,xr(e.disclosure,["contentElement","disclosureElement"])),r=t==null?void 0:t.getState(),n=X(e.open,r==null?void 0:r.open,e.defaultOpen,!1),o=X(e.animated,r==null?void 0:r.animated,!1),s={open:n,animated:o,animating:!!o&&n,mounted:n,contentElement:X(r==null?void 0:r.contentElement,null),disclosureElement:X(r==null?void 0:r.disclosureElement,null)},i=$e(s,t);return Ce(i,()=>we(i,["animated","animating"],u=>{u.animated||i.setState("animating",!1)})),Ce(i,()=>en(i,["open"],()=>{i.getState().animated&&i.setState("animating",!0)})),Ce(i,()=>we(i,["open","animating"],u=>{i.setState("mounted",u.open||u.animating)})),Ee(oe({},i),{disclosure:e.disclosure,setOpen:u=>i.setState("open",u),show:()=>i.setState("open",!0),hide:()=>i.setState("open",!1),toggle:()=>i.setState("open",u=>!u),stopAnimation:()=>i.setState("animating",!1),setContentElement:u=>i.setState("contentElement",u),setDisclosureElement:u=>i.setState("disclosureElement",u)})}function Or(e,t,r){return ft(t,[r.store,r.disclosure]),me(e,r,"open","setOpen"),me(e,r,"mounted","setMounted"),me(e,r,"animated"),Object.assign(e,{disclosure:r.disclosure})}function Vs(e={}){const[t,r]=nn(Ir,e);return Or(t,r,e)}function Ar(e={}){return Ir(e)}function Dr(e,t,r){return Or(e,t,r)}function Ns(e={}){const[t,r]=nn(Ar,e);return Dr(t,r,e)}function Ls(e={}){var t=e,{popover:r}=t,n=or(t,["popover"]);const o=tn(n.store,xr(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),s=o==null?void 0:o.getState(),i=Ar(Ee(oe({},n),{store:o})),u=X(n.placement,s==null?void 0:s.placement,"bottom"),a=Ee(oe({},i.getState()),{placement:u,currentPlacement:u,anchorElement:X(s==null?void 0:s.anchorElement,null),popoverElement:X(s==null?void 0:s.popoverElement,null),arrowElement:X(s==null?void 0:s.arrowElement,null),rendered:Symbol("rendered")}),l=$e(a,i,o);return Ee(oe(oe({},i),l),{setAnchorElement:v=>l.setState("anchorElement",v),setPopoverElement:v=>l.setState("popoverElement",v),setArrowElement:v=>l.setState("arrowElement",v),render:()=>l.setState("rendered",Symbol("rendered"))})}function js(e,t,r){return ft(t,[r.popover]),me(e,r,"placement"),Dr(e,t,r)}var $s=yt()&&fr();function Ks(e={}){var t=e,{tag:r}=t,n=or(t,["tag"]);const o=tn(n.store,ys(r,["value","rtl"])),s=r==null?void 0:r.getState(),i=o==null?void 0:o.getState(),u=X(n.activeId,i==null?void 0:i.activeId,n.defaultActiveId,null),a=ks(Ee(oe({},n),{activeId:u,includesBaseElement:X(n.includesBaseElement,i==null?void 0:i.includesBaseElement,!0),orientation:X(n.orientation,i==null?void 0:i.orientation,"vertical"),focusLoop:X(n.focusLoop,i==null?void 0:i.focusLoop,!0),focusWrap:X(n.focusWrap,i==null?void 0:i.focusWrap,!0),virtualFocus:X(n.virtualFocus,i==null?void 0:i.virtualFocus,!0)})),l=Ls(Ee(oe({},n),{placement:X(n.placement,i==null?void 0:i.placement,"bottom-start")})),v=X(n.value,i==null?void 0:i.value,n.defaultValue,""),m=X(n.selectedValue,i==null?void 0:i.selectedValue,s==null?void 0:s.values,n.defaultSelectedValue,""),f=Array.isArray(m),S=Ee(oe(oe({},a.getState()),l.getState()),{value:v,selectedValue:m,resetValueOnSelect:X(n.resetValueOnSelect,i==null?void 0:i.resetValueOnSelect,f),resetValueOnHide:X(n.resetValueOnHide,i==null?void 0:i.resetValueOnHide,f&&!r),activeValue:i==null?void 0:i.activeValue}),p=$e(S,a,l,o);return $s&&Ce(p,()=>we(p,["virtualFocus"],()=>{p.setState("virtualFocus",!1)})),Ce(p,()=>{if(r)return Fe(we(p,["selectedValue"],h=>{Array.isArray(h.selectedValue)&&r.setValues(h.selectedValue)}),we(r,["values"],h=>{p.setState("selectedValue",h.values)}))}),Ce(p,()=>we(p,["resetValueOnHide","mounted"],h=>{h.resetValueOnHide&&(h.mounted||p.setState("value",v))})),Ce(p,()=>we(p,["open"],h=>{h.open||(p.setState("activeId",u),p.setState("moves",0))})),Ce(p,()=>we(p,["moves","activeId"],(h,R)=>{h.moves===R.moves&&p.setState("activeValue",void 0)})),Ce(p,()=>St(p,["moves","renderedItems"],(h,R)=>{if(h.moves===R.moves)return;const{activeId:C}=p.getState(),I=a.item(C);p.setState("activeValue",I==null?void 0:I.value)})),Ee(oe(oe(oe({},l),a),p),{tag:r,setValue:h=>p.setState("value",h),resetValue:()=>p.setState("value",S.value),setSelectedValue:h=>p.setState("selectedValue",h)})}function Bs(e){const t=Ss();return e=j(y({},e),{tag:e.tag!==void 0?e.tag:t}),_s(e)}function Hs(e,t,r){return ft(t,[r.tag]),me(e,r,"value","setValue"),me(e,r,"selectedValue","setSelectedValue"),me(e,r,"resetValueOnHide"),me(e,r,"resetValueOnSelect"),Object.assign(Ms(js(e,t,r),t,r),{tag:r.tag})}function zs(e={}){e=Bs(e);const[t,r]=nn(Ks,e);return Hs(t,r,e)}var rn=et(),on=rn.useProviderContext,Ws=rn.ContextProvider,Us=rn.ScopedContextProvider,sn=et([Ws],[Us]),Ct=sn.useProviderContext,qs=sn.ContextProvider,un=sn.ScopedContextProvider,Ys=c.createContext(void 0),Xs=c.createContext(void 0),an=et([qs],[un]),cn=an.useProviderContext,Gs=an.ContextProvider,Tr=an.ScopedContextProvider,Fr=c.createContext(void 0),dt=et([Gs,Zt],[Tr,hr]),Js=dt.useContext,ln=dt.useScopedContext,wt=dt.useProviderContext,Zs=dt.ContextProvider,Qs=dt.ScopedContextProvider,Rr=c.createContext(void 0),kr=c.createContext(!1),ei="div",_r=ee(function(t){var r=t,{store:n}=r,o=Z(r,["store"]);const s=cn();return n=n||s,o=j(y({},o),{ref:xe(n==null?void 0:n.setAnchorElement,o.ref)}),o});J(function(t){const r=_r(t);return Q(ei,r)});function ti(e,t){return e.find(r=>!r.disabled)}function Ue(e,t){return t&&e.item(t)||null}function ni(e){const t=[];for(const r of e){const n=t.find(o=>{var s;return((s=o[0])==null?void 0:s.rowId)===r.rowId});n?n.push(r):t.push([r])}return t}function ri(e,t=!1){if(Be(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const r=se(e).getSelection();r==null||r.selectAllChildren(e),t&&(r==null||r.collapseToEnd())}}var jt=Symbol("FOCUS_SILENTLY");function oi(e){e[jt]=!0,e.focus({preventScroll:!0})}function si(e){const t=e[jt];return delete e[jt],t}function ct(e,t,r){return!(!t||t===r||!e.item(t.id))}var Mr=c.createContext(!0),Pt="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function ii(e){return Number.parseInt(e.getAttribute("tabindex")||"0",10)<0}function _e(e){return!(!e.matches(Pt)||!cr(e)||e.closest("[inert]"))}function lt(e){if(!_e(e)||ii(e))return!1;if(!("form"in e)||!e.form||e.checked||e.type!=="radio")return!0;const t=e.form.elements.namedItem(e.name);if(!t||!("length"in t))return!0;const r=Ke(e);return!r||r===e||!("form"in r)||r.form!==e.form||r.name!==e.name}function fn(e,t){const r=Array.from(e.querySelectorAll(Pt));t&&r.unshift(e);const n=r.filter(_e);return n.forEach((o,s)=>{if(Wt(o)&&o.contentDocument){const i=o.contentDocument.body;n.splice(s,1,...fn(i))}}),n}function It(e,t,r){const n=Array.from(e.querySelectorAll(Pt)),o=n.filter(lt);return t&&lt(e)&&o.unshift(e),o.forEach((s,i)=>{if(Wt(s)&&s.contentDocument){const u=s.contentDocument.body,a=It(u,!1,r);o.splice(i,1,...a)}}),!o.length&&r?n:o}function ui(e,t,r){const[n]=It(e,t,r);return n||null}function ai(e,t,r,n){const o=Ke(e),s=fn(e,t),i=s.indexOf(o),u=s.slice(i+1);return u.find(lt)||(r?s.find(lt):null)||(n?u[0]:null)||null}function Tt(e,t){return ai(document.body,!1,e,t)}function ci(e,t,r,n){const o=Ke(e),s=fn(e,t).reverse(),i=s.indexOf(o);return s.slice(i+1).find(lt)||null||null||null}function Dn(e,t){return ci(document.body,!1)}function li(e){for(;e&&!_e(e);)e=e.closest(Pt);return e||null}function Je(e){const t=Ke(e);if(!t)return!1;if(t===e)return!0;const r=t.getAttribute("aria-activedescendant");return r?r===e.id:!1}function Vr(e){const t=Ke(e);if(!t)return!1;if(pe(e,t))return!0;const r=t.getAttribute("aria-activedescendant");return!r||!("id"in e)?!1:r===e.id?!0:!!e.querySelector(`#${CSS.escape(r)}`)}function Nr(e){!Vr(e)&&_e(e)&&e.focus()}function fi(e){var t;const r=(t=e.getAttribute("tabindex"))!=null?t:"";e.setAttribute("data-tabindex",r),e.setAttribute("tabindex","-1")}function di(e,t){const r=It(e,t);for(const n of r)fi(n)}function vi(e){const t=e.querySelectorAll("[data-tabindex]"),r=n=>{const o=n.getAttribute("data-tabindex");n.removeAttribute("data-tabindex"),o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")};e.hasAttribute("data-tabindex")&&r(e);for(const n of t)r(n)}function mi(e,t){"scrollIntoView"in e?(e.focus({preventScroll:!0}),e.scrollIntoView(oe({block:"nearest",inline:"nearest"},t))):e.focus()}var pi="div",Tn=yt(),bi=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],Lr=Symbol("safariFocusAncestor");function gi(e){return e?!!e[Lr]:!1}function Fn(e,t){e&&(e[Lr]=t)}function hi(e){const{tagName:t,readOnly:r,type:n}=e;return t==="TEXTAREA"&&!r||t==="SELECT"&&!r?!0:t==="INPUT"&&!r?bi.includes(n):!!(e.isContentEditable||e.getAttribute("role")==="combobox"&&e.dataset.name)}function xi(e){return"labels"in e?e.labels:null}function Rn(e){return e.tagName.toLowerCase()==="input"&&e.type?e.type==="radio"||e.type==="checkbox":!1}function Si(e){return e?e==="button"||e==="summary"||e==="input"||e==="select"||e==="textarea"||e==="a":!0}function yi(e){return e?e==="button"||e==="input"||e==="select"||e==="textarea":!0}function Ei(e,t,r,n,o){return e?t?r&&!n?-1:void 0:r?o:o||0:o}function Ft(e,t){return W(r=>{e==null||e(r),!r.defaultPrevented&&t&&(r.stopPropagation(),r.preventDefault())})}var dn=!0;function Ci(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(dn=!1))}function wi(e){e.metaKey||e.ctrlKey||e.altKey||(dn=!0)}var Ot=ee(function(t){var r=t,{focusable:n=!0,accessibleWhenDisabled:o,autoFocus:s,onFocusVisible:i}=r,u=Z(r,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const a=c.useRef(null);c.useEffect(()=>{n&&(ke("mousedown",Ci,!0),ke("keydown",wi,!0))},[n]),Tn&&c.useEffect(()=>{if(!n)return;const x=a.current;if(!x||!Rn(x))return;const _=xi(x);if(!_)return;const $=()=>queueMicrotask(()=>x.focus());for(const b of _)b.addEventListener("mouseup",$);return()=>{for(const b of _)b.removeEventListener("mouseup",$)}},[n]);const l=n&&zt(u),v=!!l&&!o,[m,f]=c.useState(!1);c.useEffect(()=>{n&&v&&m&&f(!1)},[n,v,m]),c.useEffect(()=>{if(!n||!m)return;const x=a.current;if(!x||typeof IntersectionObserver>"u")return;const _=new IntersectionObserver(()=>{_e(x)||f(!1)});return _.observe(x),()=>_.disconnect()},[n,m]);const S=Ft(u.onKeyPressCapture,l),p=Ft(u.onMouseDownCapture,l),h=Ft(u.onClickCapture,l),R=u.onMouseDown,C=W(x=>{if(R==null||R(x),x.defaultPrevented||!n)return;const _=x.currentTarget;if(!Tn||dr(x)||!qe(_)&&!Rn(_))return;let $=!1;const b=()=>{$=!0},L={capture:!0,once:!0};_.addEventListener("focusin",b,L);const B=li(_.parentElement);Fn(B,!0),ot(_,"mouseup",()=>{_.removeEventListener("focusin",b,!0),Fn(B,!1),!$&&Nr(_)})}),I=(x,_)=>{if(_&&(x.currentTarget=_),!n)return;const $=x.currentTarget;$&&Je($)&&(i==null||i(x),!x.defaultPrevented&&($.dataset.focusVisible="true",f(!0)))},P=u.onKeyDownCapture,g=W(x=>{if(P==null||P(x),x.defaultPrevented||!n||m||x.metaKey||x.altKey||x.ctrlKey||!Te(x))return;const _=x.currentTarget;ot(_,"focusout",()=>I(x,_))}),T=u.onFocusCapture,F=W(x=>{if(T==null||T(x),x.defaultPrevented||!n)return;if(!Te(x)){f(!1);return}const _=x.currentTarget,$=()=>I(x,_);dn||hi(x.target)?ot(x.target,"focusout",$):f(!1)}),A=u.onBlur,V=W(x=>{A==null||A(x),n&&Ge(x)&&f(!1)}),E=c.useContext(Mr),M=W(x=>{n&&s&&x&&E&&queueMicrotask(()=>{Je(x)||_e(x)&&x.focus()})}),z=vr(a),H=n&&Si(z),d=n&&yi(z),w=u.style,k=c.useMemo(()=>v?y({pointerEvents:"none"},w):w,[v,w]);return u=j(y({"data-focus-visible":n&&m||void 0,"data-autofocus":s||void 0,"aria-disabled":l||void 0},u),{ref:xe(a,M,u.ref),style:k,tabIndex:Ei(n,v,H,d,u.tabIndex),disabled:d&&v?!0:void 0,contentEditable:l?void 0:u.contentEditable,onKeyPressCapture:S,onClickCapture:h,onMouseDownCapture:p,onMouseDown:C,onKeyDownCapture:g,onFocusCapture:F,onBlur:V}),Ye(u)});J(function(t){const r=Ot(t);return Q(pi,r)});var Pi="div";function Ii(e){return e.some(t=>!!t.rowId)}function Oi(e){const t=e.target;return t&&!Be(t)?!1:e.key.length===1&&!e.ctrlKey&&!e.metaKey}function Ai(e){return e.key==="Shift"||e.key==="Control"||e.key==="Alt"||e.key==="Meta"}function kn(e,t,r){return W(n=>{var o;if(t==null||t(n),n.defaultPrevented||n.isPropagationStopped()||!Te(n)||Ai(n)||Oi(n))return;const s=e.getState(),i=(o=Ue(e,s.activeId))==null?void 0:o.element;if(!i)return;const u=n,{view:a}=u,l=Z(u,["view"]),v=r==null?void 0:r.current;i!==v&&i.focus(),os(i,n.type,l)||n.preventDefault(),n.currentTarget.contains(i)&&n.stopPropagation()})}function Di(e){return ti(Cr(Lt(ni(e))))}function Ti(e){const[t,r]=c.useState(!1),n=c.useCallback(()=>r(!0),[]),o=e.useState(s=>Ue(e,s.activeId));return c.useEffect(()=>{const s=o==null?void 0:o.element;t&&s&&(r(!1),s.focus({preventScroll:!0}))},[o,t]),n}var jr=ee(function(t){var r=t,{store:n,composite:o=!0,focusOnMove:s=o,moveOnKeyPress:i=!0}=r,u=Z(r,["store","composite","focusOnMove","moveOnKeyPress"]);const a=bs();n=n||a,Oe(n,!1);const l=c.useRef(null),v=c.useRef(null),m=Ti(n),f=n.useState("moves"),[,S]=us(o?n.setBaseElement:null);c.useEffect(()=>{var d;if(!n||!f||!o||!s)return;const{activeId:w}=n.getState(),k=(d=Ue(n,w))==null?void 0:d.element;k&&mi(k)},[n,f,o,s]),G(()=>{if(!n||!f||!o)return;const{baseElement:d,activeId:w}=n.getState();if(!(w===null)||!d)return;const x=v.current;v.current=null,x&&rt(x,{relatedTarget:d}),Je(d)||d.focus()},[n,f,o]);const p=n.useState("activeId"),h=n.useState("virtualFocus");G(()=>{var d;if(!n||!o||!h)return;const w=v.current;if(v.current=null,!w)return;const x=((d=Ue(n,p))==null?void 0:d.element)||Ke(w);x!==w&&rt(w,{relatedTarget:x})},[n,p,h,o]);const R=kn(n,u.onKeyDownCapture,v),C=kn(n,u.onKeyUpCapture,v),I=u.onFocusCapture,P=W(d=>{if(I==null||I(d),d.defaultPrevented||!n)return;const{virtualFocus:w}=n.getState();if(!w)return;const k=d.relatedTarget,x=si(d.currentTarget);Te(d)&&x&&(d.stopPropagation(),v.current=k)}),g=u.onFocus,T=W(d=>{if(g==null||g(d),d.defaultPrevented||!o||!n)return;const{relatedTarget:w}=d,{virtualFocus:k}=n.getState();k?Te(d)&&!ct(n,w)&&queueMicrotask(m):Te(d)&&n.setActiveId(null)}),F=u.onBlurCapture,A=W(d=>{var w;if(F==null||F(d),d.defaultPrevented||!n)return;const{virtualFocus:k,activeId:x}=n.getState();if(!k)return;const _=(w=Ue(n,x))==null?void 0:w.element,$=d.relatedTarget,b=ct(n,$),L=v.current;v.current=null,Te(d)&&b?($===_?L&&L!==$&&rt(L,d):_?rt(_,d):L&&rt(L,d),d.stopPropagation()):!ct(n,d.target)&&_&&rt(_,d)}),V=u.onKeyDown,E=ae(i),M=W(d=>{var w;if(V==null||V(d),d.defaultPrevented||!n||!Te(d))return;const{orientation:k,renderedItems:x,activeId:_}=n.getState(),$=Ue(n,_);if((w=$==null?void 0:$.element)!=null&&w.isConnected)return;const b=k!=="horizontal",L=k!=="vertical",B=Ii(x);if((d.key==="ArrowLeft"||d.key==="ArrowRight"||d.key==="Home"||d.key==="End")&&Be(d.currentTarget))return;const ne={ArrowUp:(B||b)&&(()=>{if(B){const be=Di(x);return be==null?void 0:be.id}return n==null?void 0:n.last()}),ArrowRight:(B||L)&&n.first,ArrowDown:(B||b)&&n.first,ArrowLeft:(B||L)&&n.last,Home:n.first,End:n.last,PageUp:n.first,PageDown:n.last}[d.key];if(ne){const be=ne();if(be!==void 0){if(!E(d))return;d.preventDefault(),n.move(be)}}});u=Pe(u,d=>O.jsx(Zt,{value:n,children:d}),[n]);const z=n.useState(d=>{var w;if(n&&o&&d.virtualFocus)return(w=Ue(n,d.activeId))==null?void 0:w.id});u=j(y({"aria-activedescendant":z},u),{ref:xe(l,S,u.ref),onKeyDownCapture:R,onKeyUpCapture:C,onFocusCapture:P,onFocus:T,onBlurCapture:A,onKeyDown:M});const H=n.useState(d=>o&&(d.virtualFocus||d.activeId===null));return u=Ot(y({focusable:H},u)),u});J(function(t){const r=jr(t);return Q(Pi,r)});var Fi="input";function _n(e,t,r){if(!r)return!1;const n=e.find(o=>!o.disabled&&o.value);return(n==null?void 0:n.value)===t}function Mn(e,t){return!t||e==null?!1:(e=sr(e),t.length>e.length&&t.toLowerCase().indexOf(e.toLowerCase())===0)}function Ri(e){return e.type==="input"}function ki(e){return e==="inline"||e==="list"||e==="both"||e==="none"}function _i(e){const t=e.find(r=>{var n;return r.disabled?!1:((n=r.element)==null?void 0:n.getAttribute("role"))!=="tab"});return t==null?void 0:t.id}var Mi=ee(function(t){var r=t,{store:n,focusable:o=!0,autoSelect:s=!1,getAutoSelectId:i,setValueOnChange:u,showMinLength:a=0,showOnChange:l,showOnMouseDown:v,showOnClick:m=v,showOnKeyDown:f,showOnKeyPress:S=f,blurActiveItemOnClick:p,setValueOnClick:h=!0,moveOnKeyPress:R=!0,autoComplete:C="list"}=r,I=Z(r,["store","focusable","autoSelect","getAutoSelectId","setValueOnChange","showMinLength","showOnChange","showOnMouseDown","showOnClick","showOnKeyDown","showOnKeyPress","blurActiveItemOnClick","setValueOnClick","moveOnKeyPress","autoComplete"]);const P=wt();n=n||P,Oe(n,!1);const g=c.useRef(null),[T,F]=mr(),A=c.useRef(!1),V=c.useRef(!1),E=n.useState(D=>D.virtualFocus&&s),M=C==="inline"||C==="both",[z,H]=c.useState(M);cs(()=>{M&&H(!0)},[M]);const d=n.useState("value"),w=c.useRef();c.useEffect(()=>we(n,["selectedValue","activeId"],(D,U)=>{w.current=U.selectedValue}),[]);const k=n.useState(D=>{var U;if(M&&z&&!(D.activeValue&&Array.isArray(D.selectedValue)&&(D.selectedValue.includes(D.activeValue)||(U=w.current)!=null&&U.includes(D.activeValue))))return D.activeValue}),x=n.useState("renderedItems"),_=n.useState("open"),$=n.useState("contentElement"),b=c.useMemo(()=>{if(!M||!z)return d;if(_n(x,k,E)){if(Mn(d,k)){const U=(k==null?void 0:k.slice(d.length))||"";return d+U}return d}return k||d},[M,z,x,k,E,d]);c.useEffect(()=>{const D=g.current;if(!D)return;const U=()=>H(!0);return D.addEventListener("combobox-item-move",U),()=>{D.removeEventListener("combobox-item-move",U)}},[]),c.useEffect(()=>{if(!M||!z||!k||!_n(x,k,E)||!Mn(d,k))return;let U=at;return queueMicrotask(()=>{const ie=g.current;if(!ie)return;const{start:ce,end:De}=Nt(ie),Ne=d.length,he=k.length;Dt(ie,Ne,he),U=()=>{if(!Je(ie))return;const{start:Xe,end:so}=Nt(ie);Xe===Ne&&so===he&&Dt(ie,ce,De)}}),()=>U()},[T,M,z,k,x,E,d]);const L=c.useRef(null),B=W(i),de=c.useRef(null);c.useEffect(()=>{if(!_||!$)return;const D=Ut($);if(!D)return;L.current=D;const U=()=>{A.current=!1},ie=()=>{if(!n||!A.current)return;const{activeId:De}=n.getState();De!==null&&De!==de.current&&(A.current=!1)},ce={passive:!0,capture:!0};return D.addEventListener("wheel",U,ce),D.addEventListener("touchmove",U,ce),D.addEventListener("scroll",ie,ce),()=>{D.removeEventListener("wheel",U,!0),D.removeEventListener("touchmove",U,!0),D.removeEventListener("scroll",ie,!0)}},[_,$,n]),G(()=>{d&&(V.current||(A.current=!0))},[d]),G(()=>{E!=="always"&&_||(A.current=_)},[E,_]);const te=n.useState("resetValueOnSelect");ft(()=>{var D,U;const ie=A.current;if(!n||!_||!ie&&!te)return;const{baseElement:ce,contentElement:De,activeId:Ne}=n.getState();if(!(ce&&!Je(ce))){if(De!=null&&De.hasAttribute("data-placing")){const he=new MutationObserver(F);return he.observe(De,{attributeFilter:["data-placing"]}),()=>he.disconnect()}if(E&&ie){const he=B(x),Xe=he!==void 0?he:(D=_i(x))!=null?D:n.first();de.current=Xe,n.move(Xe??null)}else{const he=(U=n.item(Ne||n.first()))==null?void 0:U.element;he&&"scrollIntoView"in he&&he.scrollIntoView({block:"nearest",inline:"nearest"})}}},[n,_,T,d,E,te,B,x]),c.useEffect(()=>{if(!M)return;const D=g.current;if(!D)return;const U=[D,$].filter(ce=>!!ce),ie=ce=>{U.every(De=>Ge(ce,De))&&(n==null||n.setValue(b))};for(const ce of U)ce.addEventListener("focusout",ie);return()=>{for(const ce of U)ce.removeEventListener("focusout",ie)}},[M,$,n,b]);const re=D=>D.currentTarget.value.length>=a,ne=I.onChange,be=ae(l??re),Re=ae(u??!n.tag),ge=W(D=>{if(ne==null||ne(D),D.defaultPrevented||!n)return;const U=D.currentTarget,{value:ie,selectionStart:ce,selectionEnd:De}=U,Ne=D.nativeEvent;if(A.current=!0,Ri(Ne)&&(Ne.isComposing&&(A.current=!1,V.current=!0),M)){const he=Ne.inputType==="insertText"||Ne.inputType==="insertCompositionText",Xe=ce===ie.length;H(he&&Xe)}if(Re(D)){const he=ie===n.getState().value;n.setValue(ie),queueMicrotask(()=>{Dt(U,ce,De)}),M&&E&&he&&F()}be(D)&&n.show(),(!E||!A.current)&&n.setActiveId(null)}),ve=I.onCompositionEnd,le=W(D=>{A.current=!0,V.current=!1,ve==null||ve(D),!D.defaultPrevented&&E&&F()}),K=I.onMouseDown,ye=ae(p??(()=>!!(n!=null&&n.getState().includesBaseElement))),ue=ae(h),Me=ae(m??re),He=W(D=>{K==null||K(D),!D.defaultPrevented&&(D.button||D.ctrlKey||n&&(ye(D)&&n.setActiveId(null),ue(D)&&n.setValue(b),Me(D)&&ot(D.currentTarget,"mouseup",n.show)))}),Ve=I.onKeyDown,ze=ae(S??re),N=W(D=>{if(Ve==null||Ve(D),D.repeat||(A.current=!1),D.defaultPrevented||D.ctrlKey||D.altKey||D.shiftKey||D.metaKey||!n)return;const{open:U}=n.getState();U||(D.key==="ArrowUp"||D.key==="ArrowDown")&&ze(D)&&(D.preventDefault(),n.show())}),q=I.onBlur,fe=W(D=>{A.current=!1,q==null||q(D),D.defaultPrevented}),Y=Qe(I.id),Se=ki(C)?C:void 0,Ae=n.useState(D=>D.activeId===null);return I=j(y({id:Y,role:"combobox","aria-autocomplete":Se,"aria-haspopup":lr($,"listbox"),"aria-expanded":_,"aria-controls":$==null?void 0:$.id,"data-active-item":Ae||void 0,value:b},I),{ref:xe(g,I.ref),onChange:ge,onCompositionEnd:le,onMouseDown:He,onKeyDown:N,onBlur:fe}),I=jr(j(y({store:n,focusable:o},I),{moveOnKeyPress:D=>ur(R,D)?!1:(M&&H(!0),!0)})),I=_r(y({store:n},I)),y({autoComplete:"off"},I)}),Vi=J(function(t){const r=Mi(t);return Q(Fi,r)});function Ni(e={}){const t=zs(e);return O.jsx(Zs,{value:t,children:e.children})}var Li="button";function Vn(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return e.key==="Enter"?qe(t)||t.tagName==="SUMMARY"||t.tagName==="A":e.key===" "?qe(t)||t.tagName==="SUMMARY"||t.tagName==="INPUT"||t.tagName==="SELECT":!1}var ji=Symbol("command"),vn=ee(function(t){var r=t,{clickOnEnter:n=!0,clickOnSpace:o=!0}=r,s=Z(r,["clickOnEnter","clickOnSpace"]);const i=c.useRef(null),[u,a]=c.useState(!1);c.useEffect(()=>{i.current&&a(qe(i.current))},[]);const[l,v]=c.useState(!1),m=c.useRef(!1),f=zt(s),[S,p]=br(s,ji,!0),h=s.onKeyDown,R=W(P=>{h==null||h(P);const g=P.currentTarget;if(P.defaultPrevented||S||f||!Te(P)||Be(g)||g.isContentEditable)return;const T=n&&P.key==="Enter",F=o&&P.key===" ",A=P.key==="Enter"&&!n,V=P.key===" "&&!o;if(A||V){P.preventDefault();return}if(T||F){const E=Vn(P);if(T){if(!E){P.preventDefault();const M=P,{view:z}=M,H=Z(M,["view"]),d=()=>Cn(g,H);es()?ot(g,"keyup",d):queueMicrotask(d)}}else F&&(m.current=!0,E||(P.preventDefault(),v(!0)))}}),C=s.onKeyUp,I=W(P=>{if(C==null||C(P),P.defaultPrevented||S||f||P.metaKey)return;const g=o&&P.key===" ";if(m.current&&g&&(m.current=!1,!Vn(P))){P.preventDefault(),v(!1);const T=P.currentTarget,F=P,{view:A}=F,V=Z(F,["view"]);queueMicrotask(()=>Cn(T,V))}});return s=j(y(y({"data-active":l||void 0,type:u?"button":void 0},p),s),{ref:xe(i,s.ref),onKeyDown:R,onKeyUp:I}),s=Ot(s),s});J(function(t){const r=vn(t);return Q(Li,r)});var $r="button",Kr=ee(function(t){const r=c.useRef(null),n=vr(r,$r),[o,s]=c.useState(()=>!!n&&qe({tagName:n,type:t.type}));return c.useEffect(()=>{r.current&&s(qe(r.current))},[]),t=j(y({role:!o&&n!=="a"?"button":void 0},t),{ref:xe(r,t.ref)}),t=vn(t),t});J(function(t){const r=Kr(t);return Q($r,r)});var $i="button",Ki=Symbol("disclosure"),Br=ee(function(t){var r=t,{store:n,toggleOnClick:o=!0}=r,s=Z(r,["store","toggleOnClick"]);const i=on();n=n||i,Oe(n,!1);const u=c.useRef(null),[a,l]=c.useState(!1),v=n.useState("disclosureElement"),m=n.useState("open");c.useEffect(()=>{let I=v===u.current;v!=null&&v.isConnected||(n==null||n.setDisclosureElement(u.current),I=!0),l(m&&I)},[v,n,m]);const f=s.onClick,S=ae(o),[p,h]=br(s,Ki,!0),R=W(I=>{f==null||f(I),!I.defaultPrevented&&(p||S(I)&&(n==null||n.setDisclosureElement(I.currentTarget),n==null||n.toggle()))}),C=n.useState("contentElement");return s=j(y(y({"aria-expanded":a,"aria-controls":C==null?void 0:C.id},h),s),{ref:xe(u,s.ref),onClick:R}),s=Kr(s),s});J(function(t){const r=Br(t);return Q($i,r)});var Bi="button",Hr=ee(function(t){var r=t,{store:n}=r,o=Z(r,["store"]);const s=Ct();n=n||s,Oe(n,!1);const i=n.useState("contentElement");return o=y({"aria-haspopup":lr(i,"dialog")},o),o=Br(y({store:n},o)),o});J(function(t){const r=Hr(t);return Q(Bi,r)});var Hi="button",zi=O.jsx("svg",{"aria-hidden":"true",display:"block",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 16 16",height:"1em",width:"1em",pointerEvents:"none",children:O.jsx("polyline",{points:"4,6 8,10 12,6"})}),Wi=ee(function(t){var r=t,{store:n}=r,o=Z(r,["store"]);const s=wt();n=n||s,Oe(n,!1);const i=o.onMouseDown,u=W(m=>{i==null||i(m),m.preventDefault(),n==null||n.move(null)}),a=o.onClick,l=W(m=>{if(a==null||a(m),m.defaultPrevented||!n)return;const{baseElement:f}=n.getState();n.setDisclosureElement(f)}),v=n.useState("open");return o=j(y({children:zi,tabIndex:-1,"aria-label":v?"Hide popup":"Show popup","aria-expanded":v},o),{onMouseDown:u,onClick:l}),o=Hr(y({store:n},o)),o}),Ui=J(function(t){const r=Wi(t);return Q(Hi,r)}),qi=c.createContext(!1),Yi="span",Xi=O.jsx("svg",{display:"block",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 16 16",height:"1em",width:"1em",children:O.jsx("polyline",{points:"4,8 7,12 12,4"})});function Gi(e){return e.checked?e.children||Xi:typeof e.children=="function"?e.children:null}var zr=ee(function(t){var r=t,{store:n,checked:o}=r,s=Z(r,["store","checked"]);const i=c.useContext(qi);o=o??i;const u=Gi({checked:o,children:s.children});return s=j(y({"aria-hidden":!0},s),{children:u,style:y({width:"1em",height:"1em",pointerEvents:"none"},s.style)}),Ye(s)});J(function(t){const r=zr(t);return Q(Yi,r)});var Ji="span",Zi=ee(function(t){var r=t,{store:n,checked:o}=r,s=Z(r,["store","checked"]);const i=c.useContext(kr);return o=o??i,s=zr(j(y({},s),{checked:o})),s}),Qi=J(function(t){const r=Zi(t);return Q(Ji,r)}),eu="span";function Nn(e){return sr(e).toLowerCase()}function tu(e,t){const r=[];for(const n of t){let o=0;const s=n.length;for(;e.indexOf(n,o)!==-1;){const i=e.indexOf(n,o);i!==-1&&r.push([i,s]),o=i+1}}return r}function nu(e){return e.filter(([t,r],n,o)=>!o.some(([s,i],u)=>u!==n&&s<=t&&s+i>=t+r))}function ru(e){return e.sort(([t],[r])=>t-r)}function ou(e,t){if(!e||!t)return e;const r=Is(t).filter(Boolean).map(Nn),n=[],o=(a,l=!1)=>O.jsx("span",{"data-autocomplete-value":l?"":void 0,"data-user-value":l?void 0:"",children:a},n.length),s=ru(nu(tu(Nn(e),new Set(r))));if(!s.length)return n.push(o(e,!0)),n;const[i]=s[0];return[e.slice(0,i),...s.flatMap(([a,l],v)=>{var m;const f=e.slice(a,a+l),S=(m=s[v+1])==null?void 0:m[0],p=e.slice(a+l,S);return[f,p]})].forEach((a,l)=>{a&&n.push(o(a,l%2===0))}),n}var su=ee(function(t){var r=t,{store:n,value:o,userValue:s}=r,i=Z(r,["store","value","userValue"]);const u=ln();n=n||u;const a=c.useContext(Rr),l=o??a,v=Ie(n,f=>s??(f==null?void 0:f.value)),m=c.useMemo(()=>{if(l)return v?ou(l,v):l},[l,v]);return i=y({children:m},i),Ye(i)}),iu=J(function(t){const r=su(t);return Q(eu,r)}),uu="div";function Wr(e){const t=e.relatedTarget;return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}function au(e){const t=Wr(e);return t?pe(e.currentTarget,t):!1}var $t=Symbol("composite-hover");function cu(e){let t=Wr(e);if(!t)return!1;do{if(je(t,$t)&&t[$t])return!0;t=t.parentElement}while(t);return!1}var Ur=ee(function(t){var r=t,{store:n,focusOnHover:o=!0,blurOnHoverEnd:s=!!o}=r,i=Z(r,["store","focusOnHover","blurOnHoverEnd"]);const u=gr();n=n||u,Oe(n,!1);const a=ls(),l=i.onMouseMove,v=ae(o),m=W(R=>{if(l==null||l(R),!R.defaultPrevented&&a()&&v(R)){if(!Vr(R.currentTarget)){const C=n==null?void 0:n.getState().baseElement;C&&!Je(C)&&C.focus()}n==null||n.setActiveId(R.currentTarget.id)}}),f=i.onMouseLeave,S=ae(s),p=W(R=>{var C;f==null||f(R),!R.defaultPrevented&&a()&&(au(R)||cu(R)||v(R)&&S(R)&&(n==null||n.setActiveId(null),(C=n==null?void 0:n.getState().baseElement)==null||C.focus()))}),h=c.useCallback(R=>{R&&(R[$t]=!0)},[]);return i=j(y({},i),{ref:xe(h,i.ref),onMouseMove:m,onMouseLeave:p}),Ye(i)});Gt(J(function(t){const r=Ur(t);return Q(uu,r)}));var lu="div",qr=ee(function(t){var r=t,{store:n,shouldRegisterItem:o=!0,getItem:s=ir,element:i}=r,u=Z(r,["store","shouldRegisterItem","getItem","element"]);const a=vs();n=n||a;const l=Qe(u.id),v=c.useRef(i);return c.useEffect(()=>{const m=v.current;if(!l||!m||!o)return;const f=s({id:l,element:m});return n==null?void 0:n.renderItem(f)},[l,o,s,n]),u=j(y({},u),{ref:xe(v,u.ref)}),Ye(u)});J(function(t){const r=qr(t);return Q(lu,r)});var fu="button";function du(e){return Vt(e)?!0:e.tagName==="INPUT"&&!qe(e)}function vu(e,t=!1){const r=e.clientHeight,{top:n}=e.getBoundingClientRect(),o=Math.max(r*.875,r-40)*1.5,s=t?r-o+n:o+n;return e.tagName==="HTML"?s+e.scrollTop:s}function mu(e,t=!1){const{top:r}=e.getBoundingClientRect();return t?r+e.clientHeight:r}function Ln(e,t,r,n=!1){var o;if(!t||!r)return;const{renderedItems:s}=t.getState(),i=Ut(e);if(!i)return;const u=vu(i,n);let a,l;for(let v=0;v<s.length;v+=1){const m=a;if(a=r(v),!a)break;if(a===m)continue;const f=(o=Ue(t,a))==null?void 0:o.element;if(!f)continue;const p=mu(f,n)-u,h=Math.abs(p);if(n&&p<=0||!n&&p>=0){l!==void 0&&l<h&&(a=m);break}l=h}return a}function pu(e,t){return Te(e)?!1:ct(t,e.target)}var Yr=ee(function(t){var r=t,{store:n,rowId:o,preventScrollOnKeyDown:s=!1,moveOnKeyPress:i=!0,tabbable:u=!1,getItem:a,"aria-setsize":l,"aria-posinset":v}=r,m=Z(r,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const f=gr();n=n||f;const S=Qe(m.id),p=c.useRef(null),h=c.useContext(hs),C=zt(m)&&!m.accessibleWhenDisabled,{rowId:I,baseElement:P,isActiveItem:g,ariaSetSize:T,ariaPosInSet:F,isTabbable:A}=Er(n,{rowId(b){if(o)return o;if(b&&h!=null&&h.baseElement&&h.baseElement===b.baseElement)return h.id},baseElement(b){return(b==null?void 0:b.baseElement)||void 0},isActiveItem(b){return!!b&&b.activeId===S},ariaSetSize(b){if(l!=null)return l;if(b&&h!=null&&h.ariaSetSize&&h.baseElement===b.baseElement)return h.ariaSetSize},ariaPosInSet(b){if(v!=null)return v;if(!b||!(h!=null&&h.ariaPosInSet)||h.baseElement!==b.baseElement)return;const L=b.renderedItems.filter(B=>B.rowId===I);return h.ariaPosInSet+L.findIndex(B=>B.id===S)},isTabbable(b){if(!(b!=null&&b.renderedItems.length))return!0;if(b.virtualFocus)return!1;if(u)return!0;if(b.activeId===null)return!1;const L=n==null?void 0:n.item(b.activeId);return L!=null&&L.disabled||!(L!=null&&L.element)?!0:b.activeId===S}}),V=c.useCallback(b=>{var L;const B=j(y({},b),{id:S||b.id,rowId:I,disabled:!!C,children:(L=b.element)==null?void 0:L.textContent});return a?a(B):B},[S,I,C,a]),E=m.onFocus,M=c.useRef(!1),z=W(b=>{if(E==null||E(b),b.defaultPrevented||dr(b)||!S||!n||pu(b,n))return;const{virtualFocus:L,baseElement:B}=n.getState();if(n.setActiveId(S),Vt(b.currentTarget)&&ri(b.currentTarget),!L||!Te(b)||du(b.currentTarget)||!(B!=null&&B.isConnected))return;yt()&&b.currentTarget.hasAttribute("data-autofocus")&&b.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),M.current=!0,b.relatedTarget===B||ct(n,b.relatedTarget)?oi(B):B.focus()}),H=m.onBlurCapture,d=W(b=>{if(H==null||H(b),b.defaultPrevented)return;const L=n==null?void 0:n.getState();L!=null&&L.virtualFocus&&M.current&&(M.current=!1,b.preventDefault(),b.stopPropagation())}),w=m.onKeyDown,k=ae(s),x=ae(i),_=W(b=>{if(w==null||w(b),b.defaultPrevented||!Te(b)||!n)return;const{currentTarget:L}=b,B=n.getState(),de=n.item(S),te=!!(de!=null&&de.rowId),re=B.orientation!=="horizontal",ne=B.orientation!=="vertical",be=()=>!!(te||ne||!B.baseElement||!Be(B.baseElement)),ge={ArrowUp:(te||re)&&n.up,ArrowRight:(te||ne)&&n.next,ArrowDown:(te||re)&&n.down,ArrowLeft:(te||ne)&&n.previous,Home:()=>{if(be())return!te||b.ctrlKey?n==null?void 0:n.first():n==null?void 0:n.previous(-1)},End:()=>{if(be())return!te||b.ctrlKey?n==null?void 0:n.last():n==null?void 0:n.next(-1)},PageUp:()=>Ln(L,n,n==null?void 0:n.up,!0),PageDown:()=>Ln(L,n,n==null?void 0:n.down)}[b.key];if(ge){if(Vt(L)){const le=Nt(L),K=ne&&b.key==="ArrowLeft",ye=ne&&b.key==="ArrowRight",ue=re&&b.key==="ArrowUp",Me=re&&b.key==="ArrowDown";if(ye||Me){const{length:He}=Jo(L);if(le.end!==He)return}else if((K||ue)&&le.start!==0)return}const ve=ge();if(k(b)||ve!==void 0){if(!x(b))return;b.preventDefault(),n.move(ve)}}}),$=c.useMemo(()=>({id:S,baseElement:P}),[S,P]);return m=Pe(m,b=>O.jsx(gs.Provider,{value:$,children:b}),[$]),m=j(y({id:S,"data-active-item":g||void 0},m),{ref:xe(p,m.ref),tabIndex:A?m.tabIndex:-1,onFocus:z,onBlurCapture:d,onKeyDown:_}),m=vn(m),m=qr(j(y({store:n},m),{getItem:V,shouldRegisterItem:S?m.shouldRegisterItem:!1})),Ye(j(y({},m),{"aria-setsize":T,"aria-posinset":F}))});Gt(J(function(t){const r=Yr(t);return Q(fu,r)}));var bu="div";function gu(e,t){if(t!=null)return e==null?!1:Array.isArray(e)?e.includes(t):e===t}function hu(e){var t;return(t={menu:"menuitem",listbox:"option",tree:"treeitem"}[e])!=null?t:"option"}var xu=ee(function(t){var r=t,{store:n,value:o,hideOnClick:s,setValueOnClick:i,selectValueOnClick:u=!0,resetValueOnSelect:a,focusOnHover:l=!1,moveOnKeyPress:v=!0,getItem:m}=r,f=Z(r,["store","value","hideOnClick","setValueOnClick","selectValueOnClick","resetValueOnSelect","focusOnHover","moveOnKeyPress","getItem"]),S;const p=ln();n=n||p,Oe(n,!1);const{resetValueOnSelectState:h,multiSelectable:R,selected:C}=Er(n,{resetValueOnSelectState:"resetValueOnSelect",multiSelectable(d){return Array.isArray(d.selectedValue)},selected(d){return gu(d.selectedValue,o)}}),I=c.useCallback(d=>{const w=j(y({},d),{value:o});return m?m(w):w},[o,m]);i=i??!R,s=s??(o!=null&&!R);const P=f.onClick,g=ae(i),T=ae(u),F=ae((S=a??h)!=null?S:R),A=ae(s),V=W(d=>{P==null||P(d),!d.defaultPrevented&&(rs(d)||ns(d)||(o!=null&&(T(d)&&(F(d)&&(n==null||n.resetValue()),n==null||n.setSelectedValue(w=>Array.isArray(w)?w.includes(o)?w.filter(k=>k!==o):[...w,o]:o)),g(d)&&(n==null||n.setValue(o))),A(d)&&(n==null||n.hide())))}),E=f.onKeyDown,M=W(d=>{if(E==null||E(d),d.defaultPrevented)return;const w=n==null?void 0:n.getState().baseElement;if(!w||Je(w))return;(d.key.length===1||d.key==="Backspace"||d.key==="Delete")&&(queueMicrotask(()=>w.focus()),Be(w)&&(n==null||n.setValue(w.value)))});R&&C!=null&&(f=y({"aria-selected":C},f)),f=Pe(f,d=>O.jsx(Rr.Provider,{value:o,children:O.jsx(kr.Provider,{value:C??!1,children:d})}),[o,C]);const z=c.useContext(Fr);f=j(y({role:hu(z),children:o},f),{onClick:V,onKeyDown:M});const H=ae(v);return f=Yr(j(y({store:n},f),{getItem:I,moveOnKeyPress:d=>{if(!H(d))return!1;const w=new Event("combobox-item-move"),k=n==null?void 0:n.getState().baseElement;return k==null||k.dispatchEvent(w),!0}})),f=Ur(y({store:n,focusOnHover:l},f)),f}),jn=Gt(J(function(t){const r=xu(t);return Q(bu,r)})),Su="div";function $n(e,t){const r=setTimeout(t,e);return()=>clearTimeout(r)}function yu(e){let t=requestAnimationFrame(()=>{t=requestAnimationFrame(e)});return()=>cancelAnimationFrame(t)}function Kn(...e){return e.join(", ").split(", ").reduce((t,r)=>{const n=r.endsWith("ms")?1:1e3,o=Number.parseFloat(r||"0s")*n;return o>t?o:t},0)}function mn(e,t,r){return!r&&t!==!1&&(!e||!!t)}var pn=ee(function(t){var r=t,{store:n,alwaysVisible:o}=r,s=Z(r,["store","alwaysVisible"]);const i=on();n=n||i,Oe(n,!1);const u=c.useRef(null),a=Qe(s.id),[l,v]=c.useState(null),m=n.useState("open"),f=n.useState("mounted"),S=n.useState("animated"),p=n.useState("contentElement"),h=Ie(n.disclosure,"contentElement");G(()=>{u.current&&(n==null||n.setContentElement(u.current))},[n]),G(()=>{let P;return n==null||n.setState("animated",g=>(P=g,!0)),()=>{P!==void 0&&(n==null||n.setState("animated",P))}},[n]),G(()=>{if(S){if(!(p!=null&&p.isConnected)){v(null);return}return yu(()=>{v(m?"enter":f?"leave":null)})}},[S,p,m,f]),G(()=>{if(!n||!S||!l||!p)return;const P=()=>n==null?void 0:n.setState("animating",!1),g=()=>gt.flushSync(P);if(l==="leave"&&m||l==="enter"&&!m)return;if(typeof S=="number")return $n(S,g);const{transitionDuration:T,animationDuration:F,transitionDelay:A,animationDelay:V}=getComputedStyle(p),{transitionDuration:E="0",animationDuration:M="0",transitionDelay:z="0",animationDelay:H="0"}=h?getComputedStyle(h):{},d=Kn(A,V,z,H),w=Kn(T,F,E,M),k=d+w;if(!k){l==="enter"&&n.setState("animated",!1),P();return}const x=1e3/60,_=Math.max(k-x,0);return $n(_,g)},[n,S,p,h,m,l]),s=Pe(s,P=>O.jsx(un,{value:n,children:P}),[n]);const R=mn(f,s.hidden,o),C=s.style,I=c.useMemo(()=>R?j(y({},C),{display:"none"}):C,[R,C]);return s=j(y({id:a,"data-open":m||void 0,"data-enter":l==="enter"||void 0,"data-leave":l==="leave"||void 0,hidden:R},s),{ref:xe(a?n.setContentElement:null,u,s.ref),style:I}),Ye(s)}),Eu=J(function(t){const r=pn(t);return Q(Su,r)});J(function(t){var r=t,{unmountOnHide:n}=r,o=Z(r,["unmountOnHide"]);const s=on(),i=o.store||s;return Ie(i,a=>!n||(a==null?void 0:a.mounted))===!1?null:O.jsx(Eu,y({},o))});var Cu="div",Xr=ee(function(t){var r=t,{store:n,alwaysVisible:o}=r,s=Z(r,["store","alwaysVisible"]);const i=ln(!0),u=Js();n=n||u;const a=!!n&&n===i;Oe(n,!1);const l=c.useRef(null),v=Qe(s.id),m=n.useState("mounted"),f=mn(m,s.hidden,o),S=f?j(y({},s.style),{display:"none"}):s.style,p=n.useState(F=>Array.isArray(F.selectedValue)),h=as(l,"role",s.role),C=(h==="listbox"||h==="tree"||h==="grid")&&p||void 0,[I,P]=c.useState(!1),g=n.useState("contentElement");G(()=>{if(!m)return;const F=l.current;if(!F||g!==F)return;const A=()=>{P(!!F.querySelector("[role='listbox']"))},V=new MutationObserver(A);return V.observe(F,{subtree:!0,childList:!0,attributeFilter:["role"]}),A(),()=>V.disconnect()},[m,g]),I||(s=y({role:"listbox","aria-multiselectable":C},s)),s=Pe(s,F=>O.jsx(Qs,{value:n,children:O.jsx(Fr.Provider,{value:h,children:F})}),[n,h]);const T=v&&(!i||!a)?n.setContentElement:null;return s=j(y({id:v,hidden:f},s),{ref:xe(T,l,s.ref),style:S}),Ye(s)});J(function(t){const r=Xr(t);return Q(Cu,r)});function Gr(e,...t){if(!e)return!1;const r=e.getAttribute("data-backdrop");return r==null?!1:r===""||r==="true"||!t.length?!0:t.some(n=>r===n)}var Rt=new WeakMap;function vt(e,t,r){Rt.has(e)||Rt.set(e,new Map);const n=Rt.get(e),o=n.get(t);if(!o)return n.set(t,r()),()=>{var u;(u=n.get(t))==null||u(),n.delete(t)};const s=r(),i=()=>{s(),o(),n.delete(t)};return n.set(t,i),()=>{n.get(t)===i&&(s(),n.set(t,o))}}function bn(e,t,r){return vt(e,t,()=>{const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o==null?e.removeAttribute(t):e.setAttribute(t,o)}})}function Ze(e,t,r){return vt(e,t,()=>{const o=t in e,s=e[t];return e[t]=r,()=>{o?e[t]=s:delete e[t]}})}function Kt(e,t){return e?vt(e,"style",()=>{const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}):()=>{}}function wu(e,t,r){return e?vt(e,t,()=>{const o=e.style.getPropertyValue(t);return e.style.setProperty(t,r),()=>{o?e.style.setProperty(t,o):e.style.removeProperty(t)}}):()=>{}}var Pu=["SCRIPT","STYLE"];function Bt(e){return`__ariakit-dialog-snapshot-${e}`}function Iu(e,t){const r=se(t),n=Bt(e);if(!r.body[n])return!0;do{if(t===r.body)return!1;if(t[n])return!0;if(!t.parentElement)return!1;t=t.parentElement}while(!0)}function Ou(e,t,r){return Pu.includes(t.tagName)||!Iu(e,t)?!1:!r.some(n=>n&&pe(t,n))}function gn(e,t,r,n){for(let o of t){if(!(o!=null&&o.isConnected))continue;const s=t.some(a=>!a||a===o?!1:a.contains(o)),i=se(o),u=o;for(;o.parentElement&&o!==i.body;){if(n==null||n(o.parentElement,u),!s)for(const a of o.parentElement.children)Ou(e,a,t)&&r(a,u);o=o.parentElement}}}function Au(e,t){const{body:r}=se(t[0]),n=[];return gn(e,t,s=>{n.push(Ze(s,Bt(e),!0))}),Fe(Ze(r,Bt(e),!0),()=>{for(const s of n)s()})}function it(e="",t=!1){return`__ariakit-dialog-${t?"ancestor":"outside"}${e?`-${e}`:""}`}function Du(e,t=""){return Fe(Ze(e,it(),!0),Ze(e,it(t),!0))}function Jr(e,t=""){return Fe(Ze(e,it("",!0),!0),Ze(e,it(t,!0),!0))}function hn(e,t){const r=it(t,!0);if(e[r])return!0;const n=it(t);do{if(e[n])return!0;if(!e.parentElement)return!1;e=e.parentElement}while(!0)}function Bn(e,t){const r=[],n=t.map(s=>s==null?void 0:s.id);return gn(e,t,s=>{Gr(s,...n)||r.unshift(Du(s,e))},(s,i)=>{i.hasAttribute("data-dialog")&&i.id!==e||r.unshift(Jr(s,e))}),()=>{for(const s of r)s()}}var Tu="div",Fu=["a","button","details","dialog","div","form","h1","h2","h3","h4","h5","h6","header","img","input","label","li","nav","ol","p","section","select","span","summary","textarea","ul","svg"];ee(function(t){return t});var Ht=J(function(t){return Q(Tu,t)});Object.assign(Ht,Fu.reduce((e,t)=>(e[t]=J(function(n){return Q(t,n)}),e),{}));function Ru({store:e,backdrop:t,alwaysVisible:r,hidden:n}){const o=c.useRef(null),s=Vs({disclosure:e}),i=Ie(e,"contentElement");c.useEffect(()=>{const l=o.current,v=i;l&&v&&(l.style.zIndex=getComputedStyle(v).zIndex)},[i]),G(()=>{const l=i==null?void 0:i.id;if(!l)return;const v=o.current;if(v)return Jr(v,l)},[i]);const u=pn({ref:o,store:s,role:"presentation","data-backdrop":(i==null?void 0:i.id)||"",alwaysVisible:r,hidden:n??void 0,style:{position:"fixed",top:0,right:0,bottom:0,left:0}});if(!t)return null;if(c.isValidElement(t))return O.jsx(Ht,j(y({},u),{render:t}));const a=typeof t!="boolean"?t:"div";return O.jsx(Ht,j(y({},u),{render:O.jsx(a,{})}))}function ku(e,...t){if(!e)return!1;const r=e.getAttribute("data-focus-trap");return r==null?!1:t.length?r===""?!1:t.some(n=>r===n):!0}function _u(e){return bn(e,"aria-hidden","true")}function Zr(){return"inert"in HTMLElement.prototype}function Qr(e,t){if(!("style"in e))return at;if(Zr())return Ze(e,"inert",!0);const n=It(e,!0).map(o=>{if(t!=null&&t.some(i=>i&&pe(i,o)))return at;const s=vt(o,"focus",()=>(o.focus=at,()=>{delete o.focus}));return Fe(bn(o,"tabindex","-1"),s)});return Fe(...n,_u(e),Kt(e,{pointerEvents:"none",userSelect:"none",cursor:"default"}))}function Mu(e,t){const r=[],n=t.map(s=>s==null?void 0:s.id);return gn(e,t,s=>{Gr(s,...n)||ku(s,...n)||r.unshift(Qr(s,t))},s=>{s.hasAttribute("role")&&(t.some(i=>i&&pe(i,s))||r.unshift(bn(s,"role","none")))}),()=>{for(const s of r)s()}}function Vu({attribute:e,contentId:t,contentElement:r,enabled:n}){const[o,s]=mr(),i=c.useCallback(()=>{if(!n||!r)return!1;const{body:u}=se(r),a=u.getAttribute(e);return!a||a===t},[o,n,r,e,t]);return c.useEffect(()=>{if(!n||!t||!r)return;const{body:u}=se(r);if(i())return u.setAttribute(e,t),()=>u.removeAttribute(e);const a=new MutationObserver(()=>gt.flushSync(s));return a.observe(u,{attributeFilter:[e]}),()=>a.disconnect()},[o,n,t,r,i,e]),i}function Nu(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Lu(e,t,r){const n=Vu({attribute:"data-dialog-prevent-body-scroll",contentElement:e,contentId:t,enabled:r});c.useEffect(()=>{if(!n()||!e)return;const o=se(e),s=ar(e),{documentElement:i,body:u}=o,a=i.style.getPropertyValue("--scrollbar-width"),l=a?Number.parseInt(a):s.innerWidth-i.clientWidth,v=()=>wu(i,"--scrollbar-width",`${l}px`),m=Nu(i),f=()=>Kt(u,{overflow:"hidden",[m]:`${l}px`}),S=()=>{var h,R;const{scrollX:C,scrollY:I,visualViewport:P}=s,g=(h=P==null?void 0:P.offsetLeft)!=null?h:0,T=(R=P==null?void 0:P.offsetTop)!=null?R:0,F=Kt(u,{position:"fixed",overflow:"hidden",top:`${-(I-Math.floor(T))}px`,left:`${-(C-Math.floor(g))}px`,right:"0",[m]:`${l}px`});return()=>{F(),s.scrollTo({left:C,top:I,behavior:"instant"})}},p=qt()&&!ts();return Fe(v(),p?S():f())},[n,e])}var Hn=c.createContext({});function ju(e){const t=c.useContext(Hn),[r,n]=c.useState([]),o=c.useCallback(u=>{var a;return n(l=>[...l,u]),Fe((a=t.add)==null?void 0:a.call(t,u),()=>{n(l=>l.filter(v=>v!==u))})},[t]);G(()=>we(e,["open","contentElement"],u=>{var a;if(u.open&&u.contentElement)return(a=t.add)==null?void 0:a.call(t,e)}),[e,t]);const s=c.useMemo(()=>({store:e,add:o}),[e,o]);return{wrapElement:c.useCallback(u=>O.jsx(Hn.Provider,{value:s,children:u}),[s]),nestedDialogs:r}}function $u(e){const t=c.useRef();return c.useEffect(()=>{if(!e){t.current=null;return}return ke("mousedown",n=>{t.current=n.target},!0)},[e]),t}function Ku(e){return e.tagName==="HTML"?!0:pe(se(e).body,e)}function Bu(e,t){if(!e)return!1;if(pe(e,t))return!0;const r=t.getAttribute("aria-activedescendant");if(r){const n=se(e).getElementById(r);if(n)return pe(e,n)}return!1}function Hu(e,t){if(!("clientY"in e))return!1;const r=t.getBoundingClientRect();return r.width===0||r.height===0?!1:r.top<=e.clientY&&e.clientY<=r.top+r.height&&r.left<=e.clientX&&e.clientX<=r.left+r.width}function kt({store:e,type:t,listener:r,capture:n,domReady:o}){const s=W(r),i=Ie(e,"open"),u=c.useRef(!1);G(()=>{if(!i||!o)return;const{contentElement:a}=e.getState();if(!a)return;const l=()=>{u.current=!0};return a.addEventListener("focusin",l,!0),()=>a.removeEventListener("focusin",l,!0)},[e,i,o]),c.useEffect(()=>i?ke(t,l=>{const{contentElement:v,disclosureElement:m}=e.getState(),f=l.target;!v||!f||!Ku(f)||pe(v,f)||Bu(m,f)||f.hasAttribute("data-focus-trap")||Hu(l,v)||u.current&&!hn(f,v.id)||gi(f)||s(l)},n):void 0,[i,n])}function _t(e,t){return typeof e=="function"?e(t):!!e}function zu(e,t,r){const n=Ie(e,"open"),o=$u(n),s={store:e,domReady:r,capture:!0};kt(j(y({},s),{type:"click",listener:i=>{const{contentElement:u}=e.getState(),a=o.current;a&&cr(a)&&hn(a,u==null?void 0:u.id)&&_t(t,i)&&e.hide()}})),kt(j(y({},s),{type:"focusin",listener:i=>{const{contentElement:u}=e.getState();u&&i.target!==se(u)&&_t(t,i)&&e.hide()}})),kt(j(y({},s),{type:"contextmenu",listener:i=>{_t(t,i)&&e.hide()}}))}function Wu(e,t){const n=se(e).createElement("button");return n.type="button",n.tabIndex=-1,n.textContent="Dismiss popup",Object.assign(n.style,{border:"0px",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"}),n.addEventListener("click",t),e.prepend(n),()=>{n.removeEventListener("click",t),n.remove()}}var Uu="div",eo=ee(function(t){var r=t,{autoFocusOnShow:n=!0}=r,o=Z(r,["autoFocusOnShow"]);return o=Pe(o,s=>O.jsx(Mr.Provider,{value:n,children:s}),[n]),o});J(function(t){const r=eo(t);return Q(Uu,r)});var zn=c.createContext(0);function qu({level:e,children:t}){const r=c.useContext(zn),n=Math.max(Math.min(e||r+1,6),1);return O.jsx(zn.Provider,{value:n,children:t})}var Yu="span",to=ee(function(t){return t=j(y({},t),{style:y({border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},t.style)}),t});J(function(t){const r=to(t);return Q(Yu,r)});var Xu="span",Gu=ee(function(t){return t=j(y({"data-focus-trap":"",tabIndex:0,"aria-hidden":!0},t),{style:y({position:"fixed",top:0,left:0},t.style)}),t=to(t),t}),bt=J(function(t){const r=Gu(t);return Q(Xu,r)}),Wn=c.createContext(null),Ju="div";function Zu(e){return se(e).body}function Qu(e,t){return t?typeof t=="function"?t(e):t:se(e).createElement("div")}function ea(e="id"){return`${e?`${e}-`:""}${Math.random().toString(36).slice(2,8)}`}function We(e){queueMicrotask(()=>{e==null||e.focus()})}var no=ee(function(t){var r=t,{preserveTabOrder:n,preserveTabOrderAnchor:o,portalElement:s,portalRef:i,portal:u=!0}=r,a=Z(r,["preserveTabOrder","preserveTabOrderAnchor","portalElement","portalRef","portal"]);const l=c.useRef(null),v=xe(l,a.ref),m=c.useContext(Wn),[f,S]=c.useState(null),[p,h]=c.useState(null),R=c.useRef(null),C=c.useRef(null),I=c.useRef(null),P=c.useRef(null);return G(()=>{const g=l.current;if(!g||!u){S(null);return}const T=Qu(g,s);if(!T){S(null);return}const F=T.isConnected;if(F||(m||Zu(g)).appendChild(T),T.id||(T.id=g.id?`portal/${g.id}`:ea()),S(T),Mt(i,T),!F)return()=>{T.remove(),Mt(i,null)}},[u,s,m,i]),G(()=>{if(!u||!n||!o)return;const T=se(o).createElement("span");return T.style.position="fixed",o.insertAdjacentElement("afterend",T),h(T),()=>{T.remove(),h(null)}},[u,n,o]),c.useEffect(()=>{if(!f||!n)return;let g=0;const T=F=>{if(!Ge(F))return;const A=F.type==="focusin";if(cancelAnimationFrame(g),A)return vi(f);g=requestAnimationFrame(()=>{di(f,!0)})};return f.addEventListener("focusin",T,!0),f.addEventListener("focusout",T,!0),()=>{cancelAnimationFrame(g),f.removeEventListener("focusin",T,!0),f.removeEventListener("focusout",T,!0)}},[f,n]),a=Pe(a,g=>{if(g=O.jsx(Wn.Provider,{value:f||m,children:g}),!u)return g;if(!f)return O.jsx("span",{ref:v,id:a.id,style:{position:"fixed"},hidden:!0});g=O.jsxs(O.Fragment,{children:[n&&f&&O.jsx(bt,{ref:C,"data-focus-trap":a.id,className:"__focus-trap-inner-before",onFocus:F=>{Ge(F,f)?We(Tt()):We(R.current)}}),g,n&&f&&O.jsx(bt,{ref:I,"data-focus-trap":a.id,className:"__focus-trap-inner-after",onFocus:F=>{Ge(F,f)?We(Dn()):We(P.current)}})]}),f&&(g=gt.createPortal(g,f));let T=O.jsxs(O.Fragment,{children:[n&&f&&O.jsx(bt,{ref:R,"data-focus-trap":a.id,className:"__focus-trap-outer-before",onFocus:F=>{!(F.relatedTarget===P.current)&&Ge(F,f)?We(C.current):We(Dn())}}),n&&O.jsx("span",{"aria-owns":f==null?void 0:f.id,style:{position:"fixed"}}),n&&f&&O.jsx(bt,{ref:P,"data-focus-trap":a.id,className:"__focus-trap-outer-after",onFocus:F=>{if(Ge(F,f))We(I.current);else{const A=Tt();if(A===C.current){requestAnimationFrame(()=>{var V;return(V=Tt())==null?void 0:V.focus()});return}We(A)}}})]});return p&&n&&(T=gt.createPortal(T,p)),O.jsxs(O.Fragment,{children:[T,g]})},[f,m,u,a.id,n,p]),a=j(y({},a),{ref:v}),a});J(function(t){const r=no(t);return Q(Ju,r)});var ta="div",Un=yt();function na(e){const t=Ke();return!t||e&&pe(e,t)?!1:!!_e(t)}function qn(e,t=!1){if(!e)return null;const r="current"in e?e.current:e;return r?t?_e(r)?r:null:r:null}var ro=ee(function(t){var r=t,{store:n,open:o,onClose:s,focusable:i=!0,modal:u=!0,portal:a=!!u,backdrop:l=!!u,hideOnEscape:v=!0,hideOnInteractOutside:m=!0,getPersistentElements:f,preventBodyScroll:S=!!u,autoFocusOnShow:p=!0,autoFocusOnHide:h=!0,initialFocus:R,finalFocus:C,unmountOnHide:I,unstable_treeSnapshotKey:P}=r,g=Z(r,["store","open","onClose","focusable","modal","portal","backdrop","hideOnEscape","hideOnInteractOutside","getPersistentElements","preventBodyScroll","autoFocusOnShow","autoFocusOnHide","initialFocus","finalFocus","unmountOnHide","unstable_treeSnapshotKey"]);const T=Ct(),F=c.useRef(null),A=Ns({store:n||T,open:o,setOpen(N){if(N)return;const q=F.current;if(!q)return;const fe=new Event("close",{bubbles:!1,cancelable:!0});s&&q.addEventListener("close",s,{once:!0}),q.dispatchEvent(fe),fe.defaultPrevented&&A.setOpen(!0)}}),{portalRef:V,domReady:E}=pr(a,g.portalRef),M=g.preserveTabOrder,z=Ie(A,N=>M&&!u&&N.mounted),H=Qe(g.id),d=Ie(A,"open"),w=Ie(A,"mounted"),k=Ie(A,"contentElement"),x=mn(w,g.hidden,g.alwaysVisible);Lu(k,H,S&&!x),zu(A,m,E);const{wrapElement:_,nestedDialogs:$}=ju(A);g=Pe(g,_,[_]),G(()=>{if(!d)return;const N=F.current,q=Ke(N,!0);q&&q.tagName!=="BODY"&&(N&&pe(N,q)||A.setDisclosureElement(q))},[A,d]),Un&&c.useEffect(()=>{if(!w)return;const{disclosureElement:N}=A.getState();if(!N||!qe(N))return;const q=()=>{let fe=!1;const Y=()=>{fe=!0},Se={capture:!0,once:!0};N.addEventListener("focusin",Y,Se),ot(N,"mouseup",()=>{N.removeEventListener("focusin",Y,!0),!fe&&Nr(N)})};return N.addEventListener("mousedown",q),()=>{N.removeEventListener("mousedown",q)}},[A,w]),c.useEffect(()=>{if(!w||!E)return;const N=F.current;if(!N)return;const q=ar(N),fe=q.visualViewport||q,Y=()=>{var Se,Ae;const D=(Ae=(Se=q.visualViewport)==null?void 0:Se.height)!=null?Ae:q.innerHeight;N.style.setProperty("--dialog-viewport-height",`${D}px`)};return Y(),fe.addEventListener("resize",Y),()=>{fe.removeEventListener("resize",Y)}},[w,E]),c.useEffect(()=>{if(!u||!w||!E)return;const N=F.current;if(!(!N||N.querySelector("[data-dialog-dismiss]")))return Wu(N,A.hide)},[A,u,w,E]),G(()=>{if(!Zr()||d||!w||!E)return;const N=F.current;if(N)return Qr(N)},[d,w,E]);const b=d&&E;G(()=>{if(!H||!b)return;const N=F.current;return Au(H,[N])},[H,b,P]);const L=W(f);G(()=>{if(!H||!b)return;const{disclosureElement:N}=A.getState(),q=F.current,fe=L()||[],Y=[q,...fe,...$.map(Se=>Se.getState().contentElement)];return u?Fe(Bn(H,Y),Mu(H,Y)):Bn(H,[N,...Y])},[H,A,b,L,$,u,P]);const B=!!p,de=ae(p),[te,re]=c.useState(!1);c.useEffect(()=>{if(!d||!B||!E||!(k!=null&&k.isConnected))return;const N=qn(R,!0)||k.querySelector("[data-autofocus=true],[autofocus]")||ui(k,!0,a&&z)||k,q=_e(N);de(q?N:null)&&(re(!0),queueMicrotask(()=>{N.focus(),Un&&N.scrollIntoView({block:"nearest",inline:"nearest"})}))},[d,B,E,k,R,a,z,de]);const ne=!!h,be=ae(h),[Re,ge]=c.useState(!1);c.useEffect(()=>{if(d)return ge(!0),()=>ge(!1)},[d]);const ve=c.useCallback((N,q=!0)=>{const{disclosureElement:fe}=A.getState();if(na(N))return;let Y=qn(C)||fe;if(Y!=null&&Y.id){const Ae=se(Y),D=`[aria-activedescendant="${Y.id}"]`,U=Ae.querySelector(D);U&&(Y=U)}if(Y&&!_e(Y)){const Ae=Y.closest("[data-dialog]");if(Ae!=null&&Ae.id){const D=se(Ae),U=`[aria-controls~="${Ae.id}"]`,ie=D.querySelector(U);ie&&(Y=ie)}}const Se=Y&&_e(Y);if(!Se&&q){requestAnimationFrame(()=>ve(N,!1));return}be(Se?Y:null)&&Se&&(Y==null||Y.focus())},[A,C,be]),le=c.useRef(!1);G(()=>{if(d||!Re||!ne)return;const N=F.current;le.current=!0,ve(N)},[d,Re,E,ne,ve]),c.useEffect(()=>{if(!Re||!ne)return;const N=F.current;return()=>{if(le.current){le.current=!1;return}ve(N)}},[Re,ne,ve]);const K=ae(v);c.useEffect(()=>!E||!w?void 0:ke("keydown",q=>{if(q.key!=="Escape"||q.defaultPrevented)return;const fe=F.current;if(!fe||hn(fe))return;const Y=q.target;if(!Y)return;const{disclosureElement:Se}=A.getState();!!(Y.tagName==="BODY"||pe(fe,Y)||!Se||pe(Se,Y))&&K(q)&&A.hide()},!0),[A,E,w,K]),g=Pe(g,N=>O.jsx(qu,{level:u?1:void 0,children:N}),[u]);const ye=g.hidden,ue=g.alwaysVisible;g=Pe(g,N=>l?O.jsxs(O.Fragment,{children:[O.jsx(Ru,{store:A,backdrop:l,hidden:ye,alwaysVisible:ue}),N]}):N,[A,l,ye,ue]);const[Me,He]=c.useState(),[Ve,ze]=c.useState();return g=Pe(g,N=>O.jsx(un,{value:A,children:O.jsx(Ys.Provider,{value:He,children:O.jsx(Xs.Provider,{value:ze,children:N})})}),[A]),g=j(y({id:H,"data-dialog":"",role:"dialog",tabIndex:i?-1:void 0,"aria-labelledby":Me,"aria-describedby":Ve},g),{ref:xe(F,g.ref)}),g=eo(j(y({},g),{autoFocusOnShow:te})),g=pn(y({store:A},g)),g=Ot(j(y({},g),{focusable:i})),g=no(j(y({portal:a},g),{portalRef:V,preserveTabOrder:z})),g});function xn(e,t=Ct){return J(function(n){const o=t(),s=n.store||o;return Ie(s,u=>!n.unmountOnHide||(u==null?void 0:u.mounted)||!!n.open)?O.jsx(e,y({},n)):null})}xn(J(function(t){const r=ro(t);return Q(ta,r)}),Ct);var ra="div";function Yn(e=0,t=0,r=0,n=0){if(typeof DOMRect=="function")return new DOMRect(e,t,r,n);const o={x:e,y:t,width:r,height:n,top:t,right:e+r,bottom:t+n,left:e};return j(y({},o),{toJSON:()=>o})}function oa(e){if(!e)return Yn();const{x:t,y:r,width:n,height:o}=e;return Yn(t,r,n,o)}function sa(e,t){return{contextElement:e||void 0,getBoundingClientRect:()=>{const n=e,o=t==null?void 0:t(n);return o||!n?oa(o):n.getBoundingClientRect()}}}function ia(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}function Xn(e){const t=window.devicePixelRatio||1;return Math.round(e*t)/t}function ua(e,t){return lo(({placement:r})=>{var n;const o=((e==null?void 0:e.clientHeight)||0)/2,s=typeof t.gutter=="number"?t.gutter+o:(n=t.gutter)!=null?n:o;return{crossAxis:!!r.split("-")[1]?void 0:t.shift,mainAxis:s,alignmentAxis:t.shift}})}function aa(e){if(e.flip===!1)return;const t=typeof e.flip=="string"?e.flip.split(" "):void 0;return Oe(!t||t.every(ia),!1),fo({padding:e.overflowPadding,fallbackPlacements:t})}function ca(e){if(!(!e.slide&&!e.overlap))return vo({mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:mo()})}function la(e){return bo({padding:e.overflowPadding,apply({elements:t,availableWidth:r,availableHeight:n,rects:o}){const s=t.floating,i=Math.round(o.reference.width);r=Math.floor(r),n=Math.floor(n),s.style.setProperty("--popover-anchor-width",`${i}px`),s.style.setProperty("--popover-available-width",`${r}px`),s.style.setProperty("--popover-available-height",`${n}px`),e.sameWidth&&(s.style.width=`${i}px`),e.fitViewport&&(s.style.maxWidth=`${r}px`,s.style.maxHeight=`${n}px`)}})}function fa(e,t){if(e)return po({element:e,padding:t.arrowPadding})}var oo=ee(function(t){var r=t,{store:n,modal:o=!1,portal:s=!!o,preserveTabOrder:i=!0,autoFocusOnShow:u=!0,wrapperProps:a,fixed:l=!1,flip:v=!0,shift:m=0,slide:f=!0,overlap:S=!1,sameWidth:p=!1,fitViewport:h=!1,gutter:R,arrowPadding:C=4,overflowPadding:I=8,getAnchorRect:P,updatePosition:g}=r,T=Z(r,["store","modal","portal","preserveTabOrder","autoFocusOnShow","wrapperProps","fixed","flip","shift","slide","overlap","sameWidth","fitViewport","gutter","arrowPadding","overflowPadding","getAnchorRect","updatePosition"]);const F=cn();n=n||F,Oe(n,!1);const A=n.useState("arrowElement"),V=n.useState("anchorElement"),E=n.useState("disclosureElement"),M=n.useState("popoverElement"),z=n.useState("contentElement"),H=n.useState("placement"),d=n.useState("mounted"),w=n.useState("rendered"),k=c.useRef(null),[x,_]=c.useState(!1),{portalRef:$,domReady:b}=pr(s,T.portalRef),L=W(P),B=W(g),de=!!g;G(()=>{if(!(M!=null&&M.isConnected))return;M.style.setProperty("--popover-overflow-padding",`${I}px`);const re=sa(V,L),ne=async()=>{if(!d)return;A||(k.current=k.current||document.createElement("div"));const ge=A||k.current,ve=[ua(ge,{gutter:R,shift:m}),aa({flip:v,overflowPadding:I}),ca({slide:f,overlap:S,overflowPadding:I}),fa(ge,{arrowPadding:C}),la({sameWidth:p,fitViewport:h,overflowPadding:I})],le=await co(re,M,{placement:H,strategy:l?"fixed":"absolute",middleware:ve});n==null||n.setState("currentPlacement",le.placement),_(!0);const K=Xn(le.x),ye=Xn(le.y);if(Object.assign(M.style,{top:"0",left:"0",transform:`translate3d(${K}px,${ye}px,0)`}),ge&&le.middlewareData.arrow){const{x:ue,y:Me}=le.middlewareData.arrow,He=le.placement.split("-")[0],Ve=ge.clientWidth/2,ze=ge.clientHeight/2,N=ue!=null?ue+Ve:-Ve,q=Me!=null?Me+ze:-ze;M.style.setProperty("--popover-transform-origin",{top:`${N}px calc(100% + ${ze}px)`,bottom:`${N}px ${-ze}px`,left:`calc(100% + ${Ve}px) ${q}px`,right:`${-Ve}px ${q}px`}[He]),Object.assign(ge.style,{left:ue!=null?`${ue}px`:"",top:Me!=null?`${Me}px`:"",[He]:"100%"})}},Re=ao(re,M,async()=>{de?(await B({updatePosition:ne}),_(!0)):await ne()},{elementResize:typeof ResizeObserver=="function"});return()=>{_(!1),Re()}},[n,w,M,A,V,M,H,d,b,l,v,m,f,S,p,h,R,C,I,L,de,B]),G(()=>{if(!d||!b||!(M!=null&&M.isConnected)||!(z!=null&&z.isConnected))return;const re=()=>{M.style.zIndex=getComputedStyle(z).zIndex};re();let ne=requestAnimationFrame(()=>{ne=requestAnimationFrame(re)});return()=>cancelAnimationFrame(ne)},[d,b,M,z]);const te=l?"fixed":"absolute";return T=Pe(T,re=>O.jsx("div",j(y({},a),{style:y({position:te,top:0,left:0,width:"max-content"},a==null?void 0:a.style),ref:n==null?void 0:n.setPopoverElement,children:re})),[n,te,a]),T=Pe(T,re=>O.jsx(Tr,{value:n,children:re}),[n]),T=j(y({"data-placing":!x||void 0},T),{style:y({position:"relative"},T.style)}),T=ro(j(y({store:n,modal:o,portal:s,preserveTabOrder:i,preserveTabOrderAnchor:E||V,autoFocusOnShow:x&&u},T),{portalRef:$})),T});xn(J(function(t){const r=oo(t);return Q(ra,r)}),cn);var da="div";function va(e,...t){if(!e)return!1;if("id"in e){const r=t.filter(Boolean).map(n=>`[aria-controls~="${n}"]`).join(", ");return r?e.matches(r):!1}return!1}var ma=ee(function(t){var r=t,{store:n,modal:o,tabIndex:s,alwaysVisible:i,autoFocusOnHide:u=!0,hideOnInteractOutside:a=!0}=r,l=Z(r,["store","modal","tabIndex","alwaysVisible","autoFocusOnHide","hideOnInteractOutside"]);const v=wt();n=n||v,Oe(n,!1);const m=n.useState("baseElement"),f=c.useRef(!1),S=Ie(n.tag,p=>p==null?void 0:p.renderedItems.length);return l=Xr(y({store:n,alwaysVisible:i},l)),l=oo(j(y({store:n,modal:o,alwaysVisible:i,backdrop:!1,autoFocusOnShow:!1,finalFocus:m,preserveTabOrderAnchor:null,unstable_treeSnapshotKey:S},l),{getPersistentElements(){var p;const h=((p=l.getPersistentElements)==null?void 0:p.call(l))||[];if(!o||!n)return h;const{contentElement:R,baseElement:C}=n.getState();if(!C)return h;const I=se(C),P=[];if(R!=null&&R.id&&P.push(`[aria-controls~="${R.id}"]`),C!=null&&C.id&&P.push(`[aria-controls~="${C.id}"]`),!P.length)return[...h,C];const g=P.join(","),T=I.querySelectorAll(g);return[...h,...T]},autoFocusOnHide(p){return ur(u,p)?!1:f.current?(f.current=!1,!1):!0},hideOnInteractOutside(p){var h,R;const C=n==null?void 0:n.getState(),I=(h=C==null?void 0:C.contentElement)==null?void 0:h.id,P=(R=C==null?void 0:C.baseElement)==null?void 0:R.id;if(va(p.target,I,P))return!1;const g=typeof a=="function"?a(p):a;return g&&(f.current=p.type==="click"),g}})),l}),pa=xn(J(function(t){const r=ma(t);return Q(da,r)}),wt),ba="hr",ga=ee(function(t){var r=t,{orientation:n="horizontal"}=r,o=Z(r,["orientation"]);return o=y({role:"separator","aria-orientation":n},o),o}),ha=J(function(t){const r=ga(t);return Q(ba,r)});function xa(e){return c.forwardRef(e)}var Gn=8,Jn=28,Sa=({value:e,onChange:t,searchValue:r,onSearchValueChange:n,options:o,className:s,placeholder:i,fetchNextPage:u,isFetchingNextPage:a,onCreateOption:l,noResultsPlaceholder:v,allowClear:m,...f},S)=>{var le;const[p,h]=c.useState(!1),[R,C]=c.useTransition(),{t:I}=go(),P=c.useRef(null),g=c.useRef(null);c.useImperativeHandle(S,()=>P.current);const T=e!==void 0,F=r!==void 0,A=Array.isArray(e),V=A?[]:"",[E,M]=c.useState(r||""),z=c.useDeferredValue(E),[H,d]=c.useState(V),w=F?r:E,k=T?e:H,x=K=>{!o.filter(ue=>!ue.disabled).find(ue=>A?K==null?void 0:K.includes(ue.value):ue.value===K)&&l&&K&&l(K),T||d(K||V),t&&t(K),M("")},_=K=>{M(K),n&&n(K)},$=c.useMemo(()=>F?[]:ho(o,z,{keys:["label"]}),[o,z,F]),b=c.useRef(new IntersectionObserver(K=>{K[0].isIntersecting&&(u==null||u())},{threshold:1})),L=c.useCallback(K=>{a||(b.current&&b.current.disconnect(),K&&b.current.observe(K))},[a]),B=K=>{K||M(""),h(K)},te=(k==null?void 0:k.length)>0&&A,re=te&&!w&&!p,ne=!A&&!p,be=(le=o.find(K=>K.value===k))==null?void 0:le.label,Re=re||p,ge=c.useMemo(()=>{if(!Array.isArray(k))return Jn+Gn;const ye=k.length.toString().length;return Jn+ye*Gn},[k]),ve=c.useMemo(()=>F?o:$,[$,o,F]);return O.jsxs(Ni,{open:p,setOpen:B,selectedValue:k,setSelectedValue:K=>x(K),value:E,setValue:K=>{C(()=>_(K))},children:[O.jsxs("div",{className:nt("relative flex cursor-pointer items-center gap-x-2 overflow-hidden","h-8 w-full rounded-md","bg-ui-bg-field transition-fg shadow-borders-base","has-[input:focus]:shadow-borders-interactive-with-active","has-[:invalid]:shadow-borders-error has-[[aria-invalid=true]]:shadow-borders-error","has-[:disabled]:bg-ui-bg-disabled has-[:disabled]:text-ui-fg-disabled has-[:disabled]:cursor-not-allowed",s),style:{"--tag-width":`${ge}px`},children:[te&&O.jsxs("button",{type:"button",onClick:K=>{K.preventDefault(),x(void 0)},className:"bg-ui-bg-base hover:bg-ui-bg-base-hover txt-compact-small-plus text-ui-fg-subtle focus-within:border-ui-fg-interactive transition-fg absolute left-0.5 top-0.5 z-[1] flex h-[28px] items-center rounded-[4px] border py-[3px] pl-1.5 pr-1 outline-none",children:[O.jsx("span",{className:"tabular-nums",children:k.length}),O.jsx(Sn,{className:"text-ui-fg-muted"})]}),O.jsxs("div",{className:"relative flex size-full items-center",children:[re&&O.jsx("div",{className:nt("pointer-events-none absolute inset-y-0 flex size-full items-center",{"left-[calc(var(--tag-width)+8px)]":te,"left-2":!te}),children:O.jsx(mt,{size:"small",leading:"compact",children:I("general.selected")})}),ne&&O.jsx("div",{className:nt("pointer-events-none absolute inset-y-0 flex size-full items-center overflow-hidden",{"left-[calc(var(--tag-width)+8px)]":te,"left-2":!te}),children:O.jsx(mt,{size:"small",leading:"compact",className:"truncate",children:be})}),O.jsx(Vi,{autoSelect:!0,ref:P,onFocus:()=>h(!0),className:nt("txt-compact-small text-ui-fg-base !placeholder:text-ui-fg-muted transition-fg size-full cursor-pointer bg-transparent pl-2 pr-8 outline-none focus:cursor-text","hover:bg-ui-bg-field-hover",{"opacity-0":ne,"pl-2":!te,"pl-[calc(var(--tag-width)+8px)]":te}),placeholder:Re?void 0:i,...f})]}),m&&e&&O.jsx("button",{type:"button",onClick:K=>{K.preventDefault(),x(void 0)},className:"bg-ui-bg-base hover:bg-ui-bg-base-hover txt-compact-small-plus text-ui-fg-subtle focus-within:border-ui-fg-interactive transition-fg absolute right-[28px] top-0.5 z-[1] flex h-[28px] items-center rounded-[4px] border px-1.5 py-[2px] outline-none",children:O.jsx(Sn,{className:"text-ui-fg-muted"})}),O.jsx(Ui,{render:K=>O.jsx("button",{...K,type:"button",className:"text-ui-fg-muted transition-fg hover:bg-ui-bg-field-hover absolute right-0 flex size-8 items-center justify-center rounded-r outline-none",children:O.jsx(yo,{})})})]}),O.jsxs(pa,{gutter:4,sameWidth:!0,ref:g,role:"listbox",className:nt("shadow-elevation-flyout bg-ui-bg-base z-50 rounded-[8px] p-1","max-h-[200px] overflow-y-auto","data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"),style:{pointerEvents:p?"auto":"none"},"aria-busy":R,children:[ve.map(({value:K,label:ye,disabled:ue})=>O.jsxs(jn,{value:K,focusOnHover:!0,setValueOnClick:!1,disabled:ue,className:nt("transition-fg bg-ui-bg-base data-[active-item=true]:bg-ui-bg-base-hover group flex cursor-pointer items-center gap-x-2 rounded-[4px] px-2 py-1",{"text-ui-fg-disabled":ue,"bg-ui-bg-component":ue}),children:[O.jsx(Qi,{className:"flex !size-5 items-center justify-center",children:A?O.jsx(xo,{}):O.jsx(So,{})}),O.jsx(iu,{className:"txt-compact-small",children:ye})]},K)),!!u&&O.jsx("div",{ref:L,className:"w-px"}),a&&O.jsx("div",{className:"transition-fg bg-ui-bg-base flex items-center rounded-[4px] px-2 py-1.5",children:O.jsx("div",{className:"bg-ui-bg-component size-full h-5 w-full animate-pulse rounded-[4px]"})}),!ve.length&&(v&&!(w!=null&&w.length)?v:O.jsx("div",{className:"flex items-center gap-x-2 rounded-[4px] px-2 py-1.5",children:O.jsx(mt,{size:"small",leading:"compact",className:"text-ui-fg-subtle",children:I("general.noResultsTitle")})})),!ve.length&&l&&O.jsxs(c.Fragment,{children:[O.jsx(ha,{className:"bg-ui-border-base -mx-1"}),O.jsxs(jn,{value:E,focusOnHover:!0,setValueOnClick:!1,className:"transition-fg bg-ui-bg-base data-[active-item=true]:bg-ui-bg-base-hover group mt-1 flex cursor-pointer items-center gap-x-2 rounded-[4px] px-2 py-1.5",children:[O.jsx(Eo,{className:"text-ui-fg-subtle"}),O.jsxs(mt,{size:"small",leading:"compact",children:[I("actions.create"),' "',w,'"']})]})]})]})]})},Pa=xa(Sa);export{Pa as C};
