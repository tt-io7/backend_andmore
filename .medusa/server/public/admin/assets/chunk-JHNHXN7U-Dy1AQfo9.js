import{g as E,i as O}from"./chunk-THZJC662-D8uxQDqu.js";import{I as D}from"./chunk-EQTBJSBZ-DclSuJyS.js";import{r as u,b as m,cN as A,j as a,E as T,T as L,H as S,V as y,aW as w,L as z,A as I,W as M,u as U,f7 as W,t as f}from"./index-nuRy4NPt.js";import{u as H}from"./chunk-5OOAHPXU-BJJzcj3S.js";import{R as $}from"./react-country-flag.esm-C7igujSQ.js";import{T as B}from"./trash-DzwxWoW3.js";import{u as P}from"./use-prompt-ElzrivZ1.js";import{T as V}from"./table-DQNVK0YA.js";var Y=Object.defineProperty,g=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,_=(s,e,t)=>e in s?Y(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,F=(s,e)=>{for(var t in e||(e={}))C.call(e,t)&&_(s,t,e[t]);if(g)for(var t of g(e))N.call(e,t)&&_(s,t,e[t]);return s},q=(s,e)=>{var t={};for(var r in s)C.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&g)for(var r of g(s))e.indexOf(r)<0&&N.call(s,r)&&(t[r]=s[r]);return t};const R=u.forwardRef((s,e)=>{var t=s,{color:r="currentColor"}=t,o=q(t,["color"]);return u.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none",ref:e},o),u.createElement("path",{stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.437 4.814c0 2.319-3.937 6.464-3.937 6.464S3.563 7.134 3.563 4.814c0-2.378 2.035-3.758 3.937-3.758s3.937 1.38 3.937 3.758"}),u.createElement("path",{stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.5 6.167a1.333 1.333 0 1 0 0-2.667 1.333 1.333 0 0 0 0 2.667M13.056 13.945H1.944"}))});R.displayName="MapPin";var G=({taxRegion:s,to:e="/settings/tax-regions"})=>{const{t}=m(),r=U(),o=P(),{mutateAsync:x}=W(s.id);return async()=>{await o({title:t("general.areYouSure"),description:t("taxRegions.delete.confirmation"),confirmText:t("actions.delete"),cancelText:t("actions.cancel")})&&await x(void 0,{onSuccess:()=>{f.success(t("taxRegions.delete.successToast")),r(e,{replace:!0})},onError:n=>{f.error(n.message)}})}},re=s=>{const{t:e}=m(),t=P(),{mutateAsync:r}=H(s.id);return async()=>{await t({title:e("general.areYouSure"),description:e("taxRegions.taxRates.delete.confirmation",{name:s.name}),confirmText:e("actions.delete"),cancelText:e("actions.cancel")})&&await r(void 0,{onSuccess:()=>{f.success(e("taxRegions.taxRates.delete.successToast"))},onError:c=>{f.error(c.message)}})}},ne=({taxRegion:s,type:e="list",variant:t="country",asLink:r=!0,badge:o})=>{const{t:x}=m(),{id:c,country_code:l,province_code:n}=s,i=A(l),h=E(n);let d="N/A",p=null;h||n?d=h||n.toUpperCase():(i||l)&&(d=i?i.display_name:l.toUpperCase()),l&&n&&!O(l,n)&&(d=n.toUpperCase(),p=x("taxRegions.fields.sublevels.tooltips.notPartOfCountry",{country:i==null?void 0:i.display_name,province:n.toUpperCase()}));const v=!s.tax_rates.filter(k=>k.is_default).length&&e==="header",j=a.jsxs("div",{className:T("group-data-[link=true]:hover:bg-ui-bg-base-hover transition-fg flex flex-col justify-between gap-y-4 px-6 md:flex-row md:items-center md:gap-y-0",{"py-4":e==="header","py-3":e==="list"}),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-x-4",children:[a.jsx(D,{size:e==="list"?"small":"large",children:l&&!n?a.jsx("div",{className:T("flex size-fit items-center justify-center overflow-hidden rounded-[1px]",{"rounded-sm":e==="header"}),children:a.jsx($,{countryCode:l,svg:!0,style:e==="list"?{width:"12px",height:"9px"}:{width:"16px",height:"12px"},"aria-label":i==null?void 0:i.display_name})}):a.jsx(R,{className:"text-ui-fg-subtle"})}),a.jsx("div",{children:e==="list"?a.jsx(L,{size:"small",weight:"plus",leading:"compact",children:d}):a.jsx(S,{children:d})})]}),a.jsxs("div",{className:"flex size-fit items-center gap-x-2 md:hidden",children:[p&&a.jsx(y,{content:p,children:a.jsx(w,{className:"text-ui-tag-orange-icon"})}),o,a.jsx(b,{taxRegion:s,showCreateDefaultTaxRate:v})]})]}),a.jsxs("div",{className:"hidden size-fit items-center gap-x-2 md:flex",children:[p&&a.jsx(y,{content:p,children:a.jsx(w,{className:"text-ui-tag-orange-icon"})}),o,a.jsx(b,{taxRegion:s,showCreateDefaultTaxRate:v})]})]});return r?a.jsx(z,{to:t==="country"?`${c}`:`provinces/${c}`,"data-link":"true",className:"group block",children:j}):j},b=({taxRegion:s,showCreateDefaultTaxRate:e})=>{const{t}=m(),r=s.parent_id?`/settings/tax-regions/${s.parent_id}`:void 0,o=G({taxRegion:s,to:r});return a.jsx(I,{groups:[...e?[{actions:[{icon:a.jsx(M,{}),label:t("taxRegions.fields.defaultTaxRate.action"),to:"tax-rates/create"}]}]:[],{actions:[{icon:a.jsx(B,{}),label:t("actions.delete"),onClick:o}]}]})},J=u.forwardRef((s,e)=>{const{t}=m(),r={of:t("general.of"),results:t("general.results"),pages:t("general.pages"),prev:t("general.prev"),next:t("general.next")};return a.jsx(V.Pagination,{...s,translations:r,ref:e})});J.displayName="LocalizedTablePagination";export{J as L,ne as T,re as u};
